(this["webpackJsonptsh-frontend"]=this["webpackJsonptsh-frontend"]||[]).push([[0],{122:function(e,t){function a(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}a.keys=function(){return[]},a.resolve=a,e.exports=a,a.id=122},123:function(e,t){},124:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHwAAAAgCAYAAADQUhwyAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAACHZJREFUeNrsm11sFFUUx+/UEg0KRQMa5aM1SiQYAySQyAuoMaI+gEYgPiig8IKJGItRH7Qi5UGMrbEk8kLFog8GMAoPKkaF9kFMaAKNgWDQWAQ1CtEWhGiIHe/v7D3Ts+O0dBeR7mZPMtndO3funbn/c/7n485GLiVxHC/zH0v9cYerSCnLHn+0RVH0tm2MDNB1/uMDf0yvrFVZyQF/POiB704AD2Dv98eYyvqUpfT4YwagK+D78yz73AkXn9zu4j86nfv7TGW5Skkuu9JFV8100diFzo0Yl2fpHvAZUfDZm5Pmv466vh/WVoAuA+CrJjU4d3mtbX0MwHcnAZq37L7u53NgoylX3+eikVOd46jI8Jezh1zM8fvHCYZVda9YS98D4HESuP280cW97QNpR0VKRQxLRzVzXXT9yuRUVV5Khs8mkvOWXQG7hMVjJxgaTFWqk299ZxO/HQ1C4T2nTrvVa9a7Ldt2JG1LFi1wTWuec2NGjxrwuhETb3Pnjn2d13b0+E/uoRVPuZ7eU66h/gm5vt6PXTdxvIzJ77Wvb5S+rU2Nbuenu+X7nNtnukbfTp+1zW9KG9fPn3eXmzx7npt26xQ3beot8qnn39/0hvxGlte/4LoOfSPz0t7S+q6bO3uW3E/3sR9da/O6ksccDIW6U7FYdWbvAQAH7LsXP+66Dh52tRNuEGBYIMBnAT/b+tagoKelfe8+6Q+YCICy8ADJ580evM+3bZY5mJv+Lz690nV81ZkAtHTxA3IvnOOz1t8TfQB3gweS8zV+DkBVILmOOXbu+kLGXeAVpY1n8M/VuWt7eVj5FXWZzf2UXjXyvGNsCYuCJX27d5cAzCeLRzsLXIhghYwlVu4X/oAfAwFQBQYQUQoABHhVMgW5beuHwjgwDEpHX67vDQoCG/Cd66yi0abjzfHKA/goRCEKO6xlADyrChmDRUGa/eJaaQq/WchCBLruCiAj9rsohAcZ6kYhkDE1o13LpndkHizcWiQApq9X9tnh7xulVCWygvVzLUAzZrlLXpTed/jhnBZMeS+zM3TOYqd9sfpoFgyrH6oPVyXBytRiVRirJ4AI8ACS/m2Bh8qPBupXZVEF0P7qltLttHGt+vhykSw8hwQ4VqbBz1CEAAo/OhTAh5PAYPj6VcsfEVeTJbiPbs8SDSFOKDXAq4dEvQWArf2hUKy2lIQMAcqHAU4c/FLcAb+hfZQARmkJccp0MoH/AnCfMyeRNIFW2vfa8zaY1naKKvkl1EGlutj7hEo5WIQs362BVSnJqhWPipWrLwdcwOc3gAMwlo/Pn3/PnRdofmddfPw1qYzZcihFEmrhUjzx56l+9tPkOFc14RnJs5PCytiFubr5xQScBWh66VlJo/hc/fKrBQdseQUfNmp6213kHyj2Dxh5TZfCQUZ62BjycvX/WJ+lV/xxo2cYInYEgADLZhoEcYCGQiqQWDJtPJvm+errGZPr6D89zEMAqfeibIaC9IYYApfG9bRZllBlkqpmAJtqmHxn0+qXNgE8ATtshkgBJWxqSeXMskIBUhTgLKKCzKF0V4yWo6kUCapuXO/i3z4S0Dn6ft2Sq+X7xbBRfJZ76fBzH/HpIULhRQM3VQoCMjIJ/G9LKnUEyM5Ptsk1tkhj52FefT4tOGHh2gewAZLxVQFgCs0ubIxAUEvf+PS+BGyxamrgJ00NIFh2dO2S3BpQ8uZA/uzuD8IKoPOC0zK7ABrUKK0XZdkAzFaefyh8lzwwD4UCTGrI/TaUZlMqFpXgUC2QxWTBFWwAttTMtQlY/t5tNgFTae6vAOrYOha/dX7Gtf6bdtJFG7TWB/DJAlAgdW+qcFrNhNmwdmnzz8yh9C3nveJz0F/Oj1/tYvy3KaNedMBZOIomWuZsKbDgkgAOjV9z/4CFA3yT7PyoogWallJr8zqZ2y66AooywDo2UyCmqAmpWUcIvhiDzIF+nFeA0sGYUrYqtoJnYxQ7N2Opckh6aO5bKT+6bmlCx6wDTAewyePjqwHdUzeG0ffdk7mNLWvhBdJ50YAj5M5osq1gFVwEwGd7X0X6oCkEvsz+tvSllbisYFAVUO8tq8iilqaMQE2dw/ZVsHUuFIDDjqXj6yfVPmUWFM32RUmg/vS9YJlsXUYAq8B7YJ1aL+dv2pDz18ba8+i+iA2uoqN0KIzAxW6iFFvz1RfrJHAhSBngQTSI0oW2c1urZFME2REqgwpYB/mzV1KUQ2MQxsDS1XpVcdIKoAygrGbdWZrqLbjMR3+1cur2MdbsnxV2Ex9NzPJ9qF56i1ZlTyJwvyYYhgRqYc/b0v7/A/h5aHwoOSoRuVBXyD1j/6CArX5MfPioWf/y4SzyzHsXJQrAQmvgpLlyu/fJep50ywZlWGGXYQsLUK2yQwCY8YgNUO70s6WZRl0ItXmt4DGn3hdtUuI9M67foj2DxanUS3a69EUGPtXqPfAWZIncTVqX+P+CKd3mhkFLCxHd6jwvpXsN14AlqyAhPj5E6TYwZGwLmO6CkSIqCAnYwZfrDpwqa0+on0PztgavFq61d40d0hSfBlzrEtrHbhfrvRMs0ob/ToK2kI5pDi6Aq3/Hf3M+FFjkpRSrHCiLvuXC9vYgGGaXVo8sLyqZvxARwMm9zXxxyDe1yKD0rf7WRthZGx66wFqjT7sF9bd6re6Dp+vu2pdxcBOqJJa9BpvL1u2zzgt4CmDWlrRW07BsdXMAa+IaW7SxEbvUNmBI3l6a3JoN+CV7xcm+h6V+ncKLoS9bzx/uNflLLoO84lR5ibFcJFj+UF5iXOYqrymXnwz0mrJQeeWPCGUF9KB/RAiAk/lX/mpUvpL81UjSsvBHsxku98ezipSXHFCw8/Jw+aOZN3l43uX+alqR0pY94rOh8QA28o8AAwCFnWIv8ldwJQAAAABJRU5ErkJggg=="},125:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGUAAABKCAYAAACihposAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsIAAA7CARUoSoAAAAeTSURBVHhe7Zp5bJR1Gse/807n7n0ftKWWFksLbV0WAY+oKFHERDziPxpFE3U32WQT426yWf/yz93sJhuDiYn/mKBGE49oImpEFIwgIFdLsZQeQKf3dDrnO7fP83aKDW5rS6ftL+b5NC+dzju8M/N8fs/xm9ZUfMefUhBWnRQ02KLjGDz6Lt0SlEOkKARnCSNSFESkKIhIURCRoiAiRUFEioIsevOYSk0/nG3arFnIdtqNI8dpg8tug5NuW6xmmE0m43GZJkHP/+2JbujR2LXXMgP/XFqYi/Vry5Gb7eA70meWDl8pHk8iHI4ipEcQCOnw8xHUEYpEkUhOP5fpBt83bx7Hv33NuL1gKfxUZrMGCx12m5UEWJCf7URRfg4K8lwozHWSGAeyXQ5YbVkwa5mVwu9Vo2vG4yn8563P4Q2EfiUlSYFpqqvE/be3oKIkD4lEMmNe+DqxeAKh0LQQrz8Ijy+ICa8fXl8IfpIV1qOI0GPidCQX+cSLlsJv1pqlIY9W39ryQrQ1rUXLujWory5FIUmxWS3QKGp8IV4wqdT07UyRoi8nZZ+DZMdiSdz/539jcGzSeF2zYQn3bNmAl/c+gJspWwKhGAUpM2L4EpqJQseLgw5ectFYAkFdx+iYF129bpzs7EPXwAiGPT6EwhHj/yw0cxYsJZlMwmYxo6asCM0NVWhtrEFjbRmtwgJYLBYEo0lMBmKYCkXhDUYpCHTocYTofi4zmSJJwd52cynubq2k2ynsfPFfc0rZcesG/G3vLqyrKceB45fRecWLKN2/VDi0dosGF5VslzMLeU4rchxWFGRbUejKogoCTFHm9A9N4NzFq+jsuYqLA8MY8QQMOcYF5mFBUng1FFB54vrcvK6KDs6MMrhcTvj0JMamdAx5QhieDGMyGMEUSQmFY1RfE9BpdS42feeDa/me7WvxzL0NSJGI+16YX8rfn30QN1WX4/VPOnDk/LDxepYMxcNGpdtB0XfYqZc6LCTGhpI8GyoKHSgvcKE4x0q9NIGhUQ8uXRnFhUuD6LjkxmUS5afMmS8mvy2F7rGaTWgnEU88uB23NNeihBpoIqmhZ9iHr07Tkw14DCE+KhE6pXGcApKaee/GqviNpbEIuEw8fV8jXtrTYtTHhUipW1OGV/efwBenBhGmkpcZ6Pk4sFSSuFxzSXc5spDvsqKmOBu3bajA1qZSlOTa6LXE4R7x4OtjXfjo4En0kZgoL445wjKnFG6ctiwzNjVW48ld27C9vQF2ux19I3583zWCbzqG0T8aoMknThehvmG8Rq74y0tkRsrDNyYlI5kyB9wyTPzF3+lwUd9rrSvCjrZKtNUVUgbZ4fEG8Nnhs/iA5PRQBkVpELi+18yWcm2fwsGlsoj29TXYua0FGyhLzGYLzvRP4uBZN451j+HqRJAaWxwxqus8AnI6LrcQ1eGFyXHgShGljPRTCb/onsKhc0MUtyH0DAVgd9ixubmO4rrRaAdWWvjXT46zuSbFRE0k12HD1k31uHdrM9ZUFFOviOH7C6M4eMaNU70T1NSjhoQbncV/z3BMeGTn5L06HsR350fw5WmK26UJBCJJrK+vws7tLWilRc97KLM2977dOMPWGitKsO+fT+P5x+9GQX4u3j/Si7/sO4L9X1+kkhWkzBAZC4X3c9w/zl+exH8/PIe/7vsOX1IZrSwvxj+e241Xnt2NNpJk4Wnq/9SauXUJq4bGWdJQU4a9j9yJxroK+MIJfHC0H5/+cBnjXK7mLn3CAuARY8ir473DvUZMPbR12LzxJjyxays2craYf91fNAftxv/QVIst9ECetLoHp3DspzH0uH3GKClOlgbHLxCJo4s2sUd/GqX4+uDKyUY7xbyN+gt/PMW9aDZabWkBnn/sLtRUFtN0FcL+r7rxA0mJU8eSFpIZOOjReAqHO4fx9qEe9A77UU2D1KM7t2ATTbl2SxbJ+2X5ay/TTF9FYq7QxPC/jztwjoxeP/8LS4cXOFeps7TFePPABZzu89CEW4SnHroNW9bXwjprGtOa6itpHNaMkZdLV5BSTZQsH+FoAt20j+FRmT87rKd+zpt1LmMzaOUl+bRDT+KLHwcx6tNJiNSs5YS3FUOTYRzqcBub8ZKiPGxrb0BVSUH6EVzu6J83Pr+A490jkiErBPeYrgEv3qE94MCIH39sXYc9Ozanz9J5/nT3BE0FMWpEwsrBbZsnMW76vNFsaVyTPkNS9n3SiTP9nulOJKwYnC19o0Gj6f/YM462pur0GTp3hhr8fJ/DCMsH9xf+nKyfsoV/QTiDNugJGSeFlYfD7gvH4CYHwXA8fS9JSX8XFEKbivAvXNI/CSsKh53nK+4tnsCs8pX+LqwSZrMJVyYCGPfr6XtEyqrD2RLS48ZOfwaRssrwkKWTkMisP+4QKQrAf/YapClsBpGiAPy3bLN/0SVSFICFiBTFESkKIlIURKQoiEhREJGiICJFQUSKgogUBREpCiJSFESkKIhIURCRoiAiRUFEioKIFAURKQoiUhREpCiISFEQkaIgIkVBRIqCiBQFESkKIlIURKQoiEhREJGiICJFQUSKgogUBREpCiJSlAP4GT+hddZjgxL1AAAAAElFTkSuQmCC"},127:function(e,t,a){e.exports=a.p+"static/media/LoginFish.6b037bd3.jpg"},143:function(e,t,a){e.exports=a(301)},148:function(e,t,a){},149:function(e,t,a){},150:function(e,t,a){},151:function(e,t,a){},154:function(e,t,a){},160:function(e,t,a){},162:function(e,t,a){},163:function(e,t,a){},220:function(e,t,a){},294:function(e,t){},295:function(e,t){},296:function(e,t){},297:function(e,t){},298:function(e,t){},299:function(e,t){},301:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(26),c=a.n(s),o=(a(148),a(13)),l=a(14),i=a(16),d=a(15),m=(a(149),a(150),a(124)),u=a.n(m),p=function(e){Object(i.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"d-flex flex-row justify-content-end footer w-100"},n.a.createElement("div",{className:"w-100 d-flex flex-column align-items-center footer"},n.a.createElement("p",{className:"p-0 m-0 text-Palatino"},"The Study House - The Ponds, Sydney, NSW -2769."," "),n.a.createElement("p",{className:"p-0 m-0"},"thestudyhouse.com.au")),n.a.createElement("img",{className:"mr-2",src:u.a}))}}]),a}(r.Component),g=(a(151),a(152),a(153),a(125)),b=a.n(g),f=(a(154),a(24)),h=function(e){Object(i.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=JSON.parse(JSON.stringify(this.props.mainMenu));if(e)for(var t in e)"MainMenu"!==e[t].featureType.typeName&&delete e[t];return n.a.createElement("div",{className:"sub-container pl-3"},n.a.createElement("ul",{className:"header"},n.a.createElement("li",{className:"text-center pb-0"},n.a.createElement(f.b,{to:"/schedule",className:"text-white text-capitalize medium-text mb=0 h-100"},n.a.createElement("i",{className:"glyphicon glyphicon-home"})," Home"))," ",e?e.map((function(e){return n.a.createElement("li",{className:"text-center pb-0",key:e.key},n.a.createElement(f.b,{to:"/"+e.target,className:"text-white text-capitalize medium-text mb=0 h-100"},n.a.createElement("i",{className:e.style})," "+e.name))})):n.a.createElement("div",null)))}}]),a}(r.Component),x=function(e){Object(i.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e,t,a,r,s,c=this.props.username,o=this.props.isLoggedIn,l=this.props.mainmenu;return"true"===o?(e="Logout",t="glyphicon glyphicon-log-out pl-2 pr-2",a="logout-button",r="/Login",s=this.props.logout):(e="Login",t="glyphicon glyphicon-log-in pl-2 pr-2",a="login-button",r="/Login"),n.a.createElement("div",{className:"sub-container float justify-content-between mb-0 pb-0 pl-5 pr-5 sticky-top"},n.a.createElement("div",{className:"d-flex flex-row"},n.a.createElement("img",{alt:"The Study House",className:"header-logo mr-0",src:b.a}),n.a.createElement(h,{mainMenu:l})),n.a.createElement("div",{className:"d-flex h-30 align-content-center h-25 align-self-center"},n.a.createElement("span",{className:"text-verdena smaller-text font-weight-bold text-lightgrey pt-3 pr-3"},c)," ",n.a.createElement(f.b,{to:r,className:"medium-text text-white pb-1 pt-1 "+a,onClick:s},n.a.createElement("center",null,e," ",n.a.createElement("i",{className:t})))))}}]),a}(r.Component),w=a(1),y=a.n(w),k=a(7),E=a(11),v=a(127),N=a.n(v),j=function(e){Object(i.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(o.a)(this,a),r=t.call(this,e),console.log("Login constructor.."),r.state={username:"",password:"",errormsg:"",showSpinner:!1},r.doLogin=r.doLogin.bind(Object(E.a)(r)),r.setusername=r.setusername.bind(Object(E.a)(r)),r.setpassword=r.setpassword.bind(Object(E.a)(r)),r}return Object(l.a)(a,[{key:"setusername",value:function(e){this.setState({username:e.target.value})}},{key:"setpassword",value:function(e){this.setState({password:e.target.value})}},{key:"doLogin",value:function(){var e=Object(k.a)(y.a.mark((function e(){var t,a,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({showSpinner:!0}),""===this.state.username||""===this.state.password?this.setState({errormsg:"Invalid credentials. Try again..."}):this.setState({errormsg:""}),(t=new FormData).append("userName",this.state.username),t.append("password",this.state.password),e.next=7,fetch(sessionStorage.getItem("proxy")+"/tsh/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userName:this.state.username,password:this.state.password})});case 7:return a=e.sent,e.prev=8,e.next=11,a.json();case 11:(r=e.sent)?(this.setState({showSpinner:!1}),this.props.afterLogin(r.welcomeKit,!0,r.jwt)):this.setState({errormsg:"Login Failed"}),this.setState({errormsg:r.message}),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(8),this.setState({errormsg:a.status+" "+e.t0.name+" "+a.statusText});case 19:case"end":return e.stop()}}),e,this,[[8,16]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return!0===this.state.showSpinner?n.a.createElement("div",{className:"full-height d-flex flox-row justify-content-center align-items-center background-grey"},n.a.createElement("div",{className:"spinner-border text-info",role:"status"},n.a.createElement("span",{className:"sr-only"},"Loading..."))):n.a.createElement("div",{className:"full-height text-dark d-flex flex-row mt-ng-1 pt-0"},n.a.createElement("img",{className:"w-50 height-100 pt-0 mt-0 rounded-lg",alt:"",src:N.a}),n.a.createElement("div",{className:"d-flex justify-content-center align-items-center text-dark height-100 w-50 background-light-grey"},n.a.createElement("form",{className:"form-inline w-100 d-flex justify-content-center align-items-center",onSubmit:this.doLogin},n.a.createElement("div",{className:"min-width-80 height-40 mb-5 pb-5 grey-light-border d-flex flex-column rounded-20 align-items-center background-white shadow"},n.a.createElement("span",{className:"medium-text text-danger font-weight-bold mt-2"},this.state.errormsg),n.a.createElement("span",{className:"text-verdena font-weight-bold text-dark large-plus-text mt-3 pt-5"}," ","Login to Continue"),n.a.createElement("input",{type:"text",className:"form-control form-control-lg w-75 mt-5 button-height-50 rounded-10",id:"login",placeholder:"email:  johndoe@example.com",onChange:this.setusername,tabIndex:"1"}),n.a.createElement("input",{type:"password",className:"form-control form-control-lg w-75 mt-5 rounded-10 button-height-50",id:"password",placeholder:"password",onChange:this.setpassword,tabIndex:"2"}),n.a.createElement("div",{className:"custom-control custom-checkbox w-75 mt-3 d-flex flex-row justify-content-between"},n.a.createElement("input",{type:"checkbox",className:"custom-control-input",id:"customCheck1"}),n.a.createElement("label",{className:"custom-control-label",for:"customCheck1"},"Remember me"),n.a.createElement("a",{href:"http://localhost:3000",className:"smaller-text"},"Forgot Password?")),n.a.createElement("button",{type:"submit",className:"mt-5 mb-4 button-height-40 rounded-10 medium-plus-text w-50 btn btn-primary text-center text-justify",tabIndex:"3"},"Login")))))}}]),a}(r.Component),S=a(309),O=a(310),C=a(85),T=a(307),F=a(139),A=(a(160),function(e){Object(i.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return n.a.createElement(C.a,{as:T.a,key:"key1",id:"id1",variant:"",title:"",className:"p-0 m-0 rounded-lg border-top-0 border-right-0 border-bottom-0"},n.a.createElement(F.a.Item,{className:"medium-plus-text text-darkgrey text-Palatino",eventKey:this.props.evtKey,onClick:function(){return e.props.markAbsent(e.props.studName,e.props.studentBatchId)}},"Mark Absent"))}}]),a}(r.Component)),D=(a(162),function(e){Object(i.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this,e)).resetFeedback=function(){r.state.request="",r.state.fullFeedback.clear()},r.topicResultHandler=function(e,t){t||(e.next&&!1===e.goBack?(r.state.request.step=4,r.state.request.feedback.resultHandler=r.feedbackReviewHandler,r.state.request.feedback.fullFeedback=r.state.fullFeedback,r.props.saveTopic(e)):(r.state.request.step=2,r.state.feedbackCounter=0,r.prepareFeedbackRequest()),""!==e.selectedTopic&&r.props.saveTopic(e),r.props.progressManager(r.state.request))},r.feedbackResultHandler=function(e,t,a){if(a)r.state.fullFeedback.clear(),r.state.feedbackCounter=0,r.state.request.step=0;else{if(r.state.fullFeedback.set(e.id,e),t?r.state.feedbackCounter--:r.state.feedbackCounter++,r.state.feedbackCounter<0)return void r.clicked(r.state.request.feedback.studentName);if(r.state.feedbackCounter>=r.props.feedbackMasterData.length)return r.state.request.step=3,r.state.request.forTopic.resultHandler=r.topicResultHandler,void r.props.progressManager(r.state.request);r.state.feedbackCounter>=0&&r.state.feedbackCounter<r.props.feedbackMasterData.length&&r.prepareFeedbackRequest(),r.props.progressManager(r.state.request)}},r.feedbackReviewHandler=function(e){if(e.goBack)return r.state.request.step=3,r.state.request.forTopic.resultHandler=r.topicResultHandler,void r.props.progressManager(r.state.request);e.next?r.submitFeedback(e):console.log("Feedback Review Handler :: No instructions to move forward...")},r.submitFeedback=function(e){console.log("Submit fedback called : "+e);var t=new Date,a={todaysTopicId:"",todaysTopicDesc:"",nextTopicId:"",nextTopicDesc:"",batchDetailId:"",courseId:"",classDate:t=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate(),printBooklet:"",updatedById:"",feedbacks:[],students:[]};Array.from(e.studentList.keys()).map((function(t){if(!0===e.studentList.get(t).selected){var r={id:t,name:e.studentList.get(t).name};a.students.push(r)}})),Array.from(r.state.fullFeedback.keys()).map((function(e){Array.from(r.state.fullFeedback.get(e).items.keys()).map((function(t){var n={feedbackId:t,description:r.state.fullFeedback.get(e).items.get(t),categoryId:r.state.fullFeedback.get(e).id,categoryDescription:r.state.fullFeedback.get(e).description,comment:r.state.fullFeedback.get(e).comment};a.feedbacks.push(n)}))})),0==a.feedbacks.length?(window.alert("No Feedback found. Atleast provide one feedback"),r.resetFeedback()):(r.props.submitFeedback(a),r.resetFeedback())},r.prepareFeedbackRequest=function(){r.state.request.feedback.feedbackCounter=r.state.feedbackCounter;var e=r.props.feedbackMasterData[r.state.request.feedback.feedbackCounter].id;r.state.fullFeedback.has(e)?r.state.request.feedback.initialState=r.state.fullFeedback.get(e):r.state.request.feedback.initialState="",r.state.request.feedback.feedbackMasterData=r.props.feedbackMasterData[r.state.request.feedback.feedbackCounter],r.state.request.feedback.resultHandler=r.feedbackResultHandler},e.profile?r.state={profile:e.profile,keyId:e.keyId,feedbackCounter:0,request:"",fullFeedback:new Map}:r.state={profile:"green"},r.clicked=r.clicked.bind(Object(E.a)(r)),r}return Object(l.a)(a,[{key:"clicked",value:function(e){var t=this.props.requestObj;t.step=1,t.forTopic.step=1,t.forTopic.next=!1,t.forTopic.resultHandler=this.topicResultHandler,t.feedback.step=2,t.feedback.studentName=e,t.feedback.feedbackCounter=0,t.feedback.resultHandler=this.feedbackResultHandler,t.feedback.initialState="",t.feedback.course=this.props.student.course,t.feedback.feedbackMasterData=this.props.feedbackMasterData[t.feedback.feedbackCounter],this.state.request=t,this.props.progressManager(t)}},{key:"render",value:function(){var e=this,t=this.props.student;return n.a.createElement(O.a,{style:{width:"28%"},className:"m-1 p-0 shadow-lg student"},n.a.createElement(O.a.Header,{className:"d-flex flex-row justify-content-between align-items-center p-0 m-0 border-0 rounded-lg student "+this.state.profile},n.a.createElement("div",null,n.a.createElement("span",{className:"pl-2 text-helvetica font-weight-bold medium-text text-white letter-s2"},n.a.createElement("i",{className:"glyphicon glyphicon-user pr-2"}),t.name+" [",n.a.createElement("span",{className:"sm-text"},"Grade ",t.grade+" - "+t.course),"]")),n.a.createElement("div",null,n.a.createElement(A,{evtKey:this.props.evtKey,markAbsent:this.props.markAbsent,studName:t.name,studentBatchId:t.id}))),n.a.createElement(O.a.Body,{className:"p-0 pb-2 rounded-lg student d-flex flex-column justify-content-around align-content-center"+this.state.profile},n.a.createElement(O.a.Subtitle,{className:"m-0 pl-0 text-darkgrey student d-flex flex-row"},n.a.createElement("div",{className:"w-100 h-100 pt-4 m-0 pl-2 font-weight-bold text-helvetica large-text left-border background-grey-plus "+this.state.profile},t.previousTopic),n.a.createElement("div",{className:"background m-0 w-24 pt-3 text-center text-helvetica sm-text letter-s2 font-weight-lighter text-white left-border-white "+this.state.profile},n.a.createElement("p",{className:"m-0 mb-1 p-0"},"PREVIOUS")," ",n.a.createElement("p",null,"TOPIC"))),n.a.createElement(O.a.Text,{className:"d-flex flex-column ml-2 mt-0 mb-0 mr-2 student pb-0"},n.a.createElement("div",{className:"w-100 letter-s15 text-lightgrey3 font-weight-bolder sm-text text-center m-0 mt-1 text-high-tower"},"FEEDBACK"),n.a.createElement("div",{className:"d-flex justify-content-center flex-wrap"},t.sortedFeedback.map((function(t){return n.a.createElement("div",{className:"border-grey w-50p h-70 rounded-top-left-10 rounded-top-right-10 background-grad-grey shadow"},n.a.createElement("div",{className:"w-100 d-flex flex-row justify-content-between background-grad letter-s3 text-helvetica text-uppercase font-weight-bold sm-text text-lightgreyplus1 rounded-top-left-10 pl-3 mb-1 rounded-top-right-10 "+e.state.profile},t.description),t.feedbacks?t.feedbacks.map((function(e){return n.a.createElement("p",{className:"text-darkgrey text-verdana text-11 font-weight-light m-0 p-0"},n.a.createElement("i",{className:"smaller-text text-success glyphicon glyphicon-arrow-right mr-2"}),e.description)})):n.a.createElement("p",{className:"text-darkgrey medium-text font-weight-light"},"No Feedback available."),n.a.createElement("p",{className:"text-darkgrey text-verdena text-11 pt-1 pl-1 font-weight-light"},n.a.createElement("span",{className:"text-georgia text-11 text-danger"},"Teachers comment :")," "+t.teachersComment))})))),n.a.createElement(O.a.Footer,{className:"p-0 m-0 pl-2 pr-2 pt-1 d-flex justify-content-center border-0"},n.a.createElement("button",{type:"button",className:"btn btn-danger btn-lg btn-block rounded-lg w-100 background-red text-uppercase letter-s3 sm-text text-helvetica text-lightgrey",onClick:function(){return e.clicked(t.name)}},n.a.createElement("i",{className:"glyphicon glyphicon-list-alt"})," Enter Feedback"))))}}]),a}(r.Component)),I=(a(163),function(e){Object(i.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this,e)).markAbsent=function(){var e=Object(k.a)(y.a.mark((function e(t,a){var n,s;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={id:a},e.next=3,fetch(sessionStorage.getItem("proxy")+"/tsh/student/markAbsent",{method:"POST",headers:{Authorization:"Bearer "+sessionStorage.getItem("jwt"),"Content-Type":"application/json"},body:JSON.stringify(n)});case 3:return s=e.sent,e.next=6,s.json();case 6:1===e.sent.returnCode?r.setState({markAbsent:{mark:!0,studName:t,message:" has been marked absent for today",type:"success"}}):r.setState({markAbsent:{mark:!0,studName:"",message:"Something went wrong!!! Unable to mark '"+t+"' absent. Server did not respond. Try again later",type:"danger"}});case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),r.getTopics=function(){var e=Object(k.a)(y.a.mark((function e(t){var a,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(sessionStorage.getItem("proxy")+"/tsh/schedule/getBatchTopics/"+t,{method:"GET",headers:{Authorization:"Bearer "+r.props.token}});case 2:if(202!==(a=e.sent).status){e.next=8;break}return e.next=6,a.json();case 6:n=e.sent,r.state.batchData.topics=n;case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.postAbsent=function(){r.setState({markAbsent:{mark:!1,studName:""}})},r.resetFeedbackData=function(){r.state.forFeedback.feedback.attendies="",r.state.forFeedback.feedback.fullFeedback="",r.state.forFeedback.feedback.studentName=""},r.printBooklet=function(){r.state.printBooklet=!r.state.printBooklet},r.launchTopicSelector=function(e){r.state.forFeedback.forTopic.step=e.step,e.data?r.state.forFeedback.forTopic.data=e.data:r.state.forFeedback.forTopic.data=r.state.batchData.topics,r.state.forFeedback.forTopic.currentTopic=r.state.batchData.currentTopic,r.state.forFeedback.forTopic.nextTopic=r.state.batchData.nextTopic,r.state.forFeedback.forTopic.next=e.next,r.state.forFeedback.forTopic.resultHandler=e.resultHandler,r.props.topicSelector(r.state.forFeedback.forTopic)},r.launchFeedbackSelector=function(e){r.state.forFeedback.feedback.step=e.step,r.state.forFeedback.feedback.studentName=e.studentName,r.state.forFeedback.feedback.topic=e.topic,r.state.forFeedback.feedback.feedbackCounter=e.feedbackCounter,r.state.forFeedback.feedback.resultHandler=e.resultHandler,r.state.forFeedback.feedback.initialState=e.initialState,r.state.forFeedback.feedback.feedbackMasterData=e.feedbackMasterData,r.props.feedbackSelector(r.state.forFeedback.feedback)},r.launchFeedbackReviewSelector=function(e){r.state.forFeedback.feedback.step=e.step,r.state.forFeedback.feedback.studentName=e.studentName,r.state.forFeedback.feedback.topic=e.topic,r.state.forFeedback.feedback.nextTopic=e.nextTopic,r.state.forFeedback.feedback.feedbackCounter=e.feedbackCounter,r.state.forFeedback.feedback.resultHandler=e.resultHandler,r.state.forFeedback.feedback.initialState=e.initialState,r.state.forFeedback.feedback.term=e.term,r.state.forFeedback.feedback.course=e.course,r.state.forFeedback.feedback.feedbackMasterData=e.feedbackMasterData,r.state.forFeedback.feedback.attendies=e.attendies,r.state.forFeedback.feedback.fullFeedback=e.fullFeedback,r.props.feedbackReviewSelector(r.state.forFeedback.feedback)},r.prepareForNextTopicSelection=function(e){return e.step=3,e.next=!0,e},r.populateTopicRequestForMandatory=function(){var e=Object(k.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.state.batchData.topics.length<=0)){e.next=3;break}return e.next=3,r.getTopics(r.state.batchData.key);case 3:return t.data=r.state.batchData.topics,console.log(t.data),t.currentTopic=r.state.batchData.currentTopic,t.nextTopic=r.state.batchData.nextTopic,e.abrupt("return",t);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.populateFeedbackRequestForMandatory=function(e){return e.topic=r.state.batchData.currentTopic,e.totalFeedbackCount=r.props.feedbackMasterCount,e},r.prepareRequestForReview=function(e){return e.step=4,e.topic=r.state.batchData.currentTopic,e.nextTopic=r.state.batchData.nextTopic,e.term=r.state.batchData.term,e.teacher=r.state.batchData.teacherName,e.attendies=r.state.batchData.attendies,e},r.setTopic=function(e){var t=r.state.batchData;!1===e.next?t.currentTopic=e.selectedTopic:t.nextTopic=e.selectedTopic,""!=t.currentTopic.id&&""!=t.nextTopic.id&&(r.state.batchData.topics=[]),r.setState({batchData:t})},r.progressManager=function(){var e=Object(k.a)(y.a.mark((function e(t){var a,n,s,c,o;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==(a=t.step)){e.next=4;break}return r.setState({feedbackStep:0,counter:1}),e.abrupt("return");case 4:if(1!==a){e.next=9;break}return e.next=7,r.populateTopicRequestForMandatory(t.forTopic);case 7:n=e.sent,r.launchTopicSelector(n);case 9:if(2===a&&(s=r.populateFeedbackRequestForMandatory(t.feedback),r.launchFeedbackSelector(s)),3!==a){e.next=16;break}return e.next=13,r.populateTopicRequestForMandatory(t.forTopic);case 13:c=e.sent,c=r.prepareForNextTopicSelection(c),r.launchTopicSelector(c);case 16:4===a&&(o=r.prepareRequestForReview(t.feedback),r.launchFeedbackReviewSelector(o));case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.constructTopicName=function(e){if(null!==e){var t="";return(t=null===e.topicName?"":e.topicName).length>0&&(t+=" : "),null!==e.description&&(t+=e.description,null!==e.chapter&&t.length>0&&(t+=" | ")),null!==e.chapter&&(t+=e.chapter),t}},r.submitFeedback=function(e){if(e.todaysTopicId=r.state.batchData.currentTopic.id,e.todaysTopicDesc=r.state.batchData.currentTopic.description,e.nextTopicId=r.state.batchData.nextTopic.id,e.nextTopicDesc=r.state.batchData.nextTopic.description,e.batchDetailId=r.state.batchData.key,e.courseId=r.state.batchData.courseId,e.printBooklet=r.state.printBooklet,sessionStorage.getItem("isLoggedIn")){var t=JSON.parse(sessionStorage.getItem("welcomeKit"));e.updatedById=t.teacher.id}r.submitToServer(e),console.log("ok")},r.submitToServer=function(){var e=Object(k.a)(y.a.mark((function e(t){var a,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.getElementById("feedbackSubmit").style.display="block",e.next=3,fetch(sessionStorage.getItem("proxy")+"/tsh/feedback/submit",{method:"POST",headers:{Authorization:"Bearer "+sessionStorage.getItem("jwt"),"Content-Type":"application/json"},body:JSON.stringify(t)});case 3:return 200!==(a=e.sent).status&&r.props.feedbackSubmit(!0,!1,a.status),e.next=7,a.json();case 7:if(100!==(n=e.sent).message.returnCode){e.next=15;break}return e.next=11,r.setState({batchData:JSON.parse(JSON.stringify(n.schedule))});case 11:r.resetFeedbackData(),r.props.feedbackSubmit(!0,!0,n.message.returnCode),e.next=16;break;case 15:r.props.feedbackSubmit(!0,!1,n.message.returnCode);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.profile?r.state={profile:e.profile,batchData:r.props.data,TODAY:1,NEXT_CLASS:2,printBooklet:!1,submitFeedback:!1,markAbsent:{mark:!1,studName:"",message:"",type:""},forFeedback:{step:0,forTopic:{step:0,data:r.props.data.topics,currentTopic:r.props.data.currentTopic,nextTopic:r.props.data.nextTopic,next:!1,resultHandler:""},feedback:{step:0,studentName:"",topic:{},feedbackCounter:0,totalFeedbackCount:r.props.feedbackMasterCount,resultHandler:"",initialState:"",feedbackMasterData:"",nextTopic:"",course:"",term:"",teacher:"",attendies:"",fullFeedback:""}}}:r.state={profile:"green"},r.topicSelectionClicked=r.topicSelectionClicked.bind(Object(E.a)(r)),r}return Object(l.a)(a,[{key:"topicSelectionClicked",value:function(){var e=Object(k.a)(y.a.mark((function e(t){var a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.state.forFeedback.forTopic,e.next=3,this.populateTopicRequestForMandatory(a);case 3:(a=e.sent).step=-1,t===this.state.TODAY?a.next=!1:a.next=!0,a.resultHandler=this.setTopic,this.launchTopicSelector(a);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.batchData;return n.a.createElement(O.a,{style:{width:"100%"},className:"m-0 p-0 shadow-lg"},n.a.createElement(O.a.Body,{className:"batch rounded m-0 "+this.state.profile},n.a.createElement(O.a.Subtitle,{className:"d-flex flex-column"},n.a.createElement("div",{className:"d-flex justify-content-between align-items-center pt-4 mr-2 w-100"},n.a.createElement("div",{className:"d-flex flex-row w-35 h-40 shadow"},n.a.createElement("button",{type:"button",title:"Change today's topic",className:"d-flex border-0 flex-column justify-content-center w-35 rounded-top-left-5 rounded-bottom-left-5 h-40 background text-white text-helvetica font-weight-light text-uppercase letter-s3 "+this.state.profile,onClick:function(){return e.topicSelectionClicked(e.state.TODAY)}},n.a.createElement("p",{className:"p-0 m-0 align-self-center text-11"},"Todays's Topic")),n.a.createElement("div",{className:"d-flex w-75 h-40 pl-3 pb-0 mb-0 background-grad-grey rounded-top-right-5 rounded-bottom-right-5 text-helvetica text-lightgrey3 font-weight-bold medium-text "},n.a.createElement("p",{className:"p-0 m-0 align-self-center"},this.constructTopicName(t.currentTopic)))),n.a.createElement("div",{className:"d-flex flex-row w-35 h-40 shadow"},n.a.createElement("button",{type:"button",title:"Change next topic",className:"d-flex border-0 flex-column justify-content-center w-35 h-40 background rounded-top-left-5 rounded-bottom-left-5 text-white text-helvetica font-weight-light text-uppercase letter-s3 "+this.state.profile,onClick:function(){return e.topicSelectionClicked(e.state.NEXT_CLASS)}},n.a.createElement("p",{className:"p-0 m-0 align-self-center text-11"},"Next Topic")),n.a.createElement("div",{className:"d-flex w-75 h-40 pl-3 pb-0 mb-0 background-grad-grey rounded-top-right-5 rounded-bottom-right-5 text-helvetica text-lightgrey3 font-weight-bold medium-text "},n.a.createElement("p",{className:"p-0 m-0 align-self-center"},this.constructTopicName(t.nextTopic)))),n.a.createElement("div",{className:"d-flex flex-row w-10 mr-2 ml-3 h-36 border border-primary shadow rounded-5 bg-white align-text-center background-grad-grey "},n.a.createElement("div",{className:"input-group-text mr-3 h-36 rounded-top-left-5 rounded-bottom-left-5 w-25 justify-content-center background-grey-plus"},n.a.createElement("input",{type:"checkbox","aria-label":"Checkbox for following text input",title:"Print booklet for the next-class",onClick:this.printBooklet})),n.a.createElement("p",{className:"align-self-center m-0 p-0 text-georgia text-lightgrey3 medium-text font-weight-light"},"Print Booklet")),n.a.createElement("div",{className:"d-flex flex-row"},n.a.createElement(O.a,{className:"shadow-sm"},n.a.createElement(O.a.Header,{className:"term p-2 pr-3 pl-3 m-0 sm-text font-weight-bold text-dark border border-0 "+this.state.profile},"Term"),n.a.createElement(O.a.Body,{className:"term p-0 m-0 text-center text-lightgrey3 "+this.state.profile},t.term)),n.a.createElement(O.a,{className:"text-dark ml-2 text-helvetica letter-s2 shadow-sm"},n.a.createElement(O.a.Header,{className:"term p-2 pr-2 pl-2 m-0 sm-text font-weight-bold border border-0 "+this.state.profile},"Teacher"),n.a.createElement(O.a.Body,{className:"teacher p-0 m-0 pt-3 text-center text-lightgrey3 medium-text text-uppercase "+this.state.profile},t.teacherName))))),n.a.createElement(O.a.Text,null,n.a.createElement("div",{className:"d-flex flex-column pt-3"},this.state.markAbsent.mark?n.a.createElement("div",{className:"alert w-100 mt-2 d-flex flex-row justify-content-between alert-"+this.state.markAbsent.type,role:"alert",onClick:function(){return e.postAbsent()}},n.a.createElement("h5",{className:"alert-heading"},n.a.createElement("span",{className:"font-weight-bold"},this.state.markAbsent.studName," "),this.state.markAbsent.message),n.a.createElement("button",{type:"button",className:"btn btn-"+this.state.markAbsent.type,onclick:function(){return e.postAbsent()}},"OK")):n.a.createElement(n.a.Fragment,null),n.a.createElement("div",{className:"d-flex flex-row justify-content-around pl-0 pr-0"},t.attendies.map((function(t){return n.a.createElement(D,{profile:e.state.profile,student:t,progressManager:e.progressManager,requestObj:e.state.forFeedback,saveTopic:e.setTopic,feedbackMasterData:e.props.feedbackMaster,submitFeedback:e.submitFeedback,evtKey:e.props.evtKey,markAbsent:e.markAbsent})})))))))}}]),a}(r.Component)),P=a(4),M=a(53),B=a.n(M),G=(a(93),function(e){var t=e.features,a=e.setFilter,s=Object(r.useState)(!0),c=Object(P.a)(s,2),o=c[0],l=c[1],i=Object(r.useState)(!0),d=Object(P.a)(i,2),m=d[0],u=d[1],p=Object(r.useState)(!0),g=Object(P.a)(p,2),b=g[0],f=g[1],h=Object(r.useState)(!0),x=Object(P.a)(h,2),w=x[0],E=x[1],v=Object(r.useState)([]),N=Object(P.a)(v,2),j=N[0],O=N[1],C=Object(r.useState)(""),T=Object(P.a)(C,2),F=T[0],A=T[1],D=Object(r.useState)(""),I=Object(P.a)(D,2),M=I[0],G=I[1],R=Object(r.useState)(""),L=Object(P.a)(R,2),z=L[0],H=L[1],U=function(){var e=Object(k.a)(y.a.mark((function e(){var t,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(sessionStorage.getItem("proxy")+"/tsh/Signup/getTeachers",{method:"GET",headers:{Authorization:"Bearer "+sessionStorage.getItem("jwt"),"Content-Type":"application/json"}});case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,O(a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){U(),a({maths:o,english:m,ga:b,showAllActive:w})}),[]);var Y=!1;return t&&t.some((function(e){return"All Teachers"===e.name}))&&(Y=!0),n.a.createElement(S.a,{defaultActiveKey:"100"},n.a.createElement("div",{className:"d-flex fluid m-0 pt-2 pb-1 justify-content-between"},n.a.createElement("div",{className:"d-flex flex-row",title:"Show only Maths"},n.a.createElement(B.a,{defaultChecked:o,onChange:function(){var e={maths:!o,english:m,ga:b,showAllActive:w,selectedTeacher:F,selectedGrade:M,namePattern:z};l(!o),a(e)}}),n.a.createElement("div",{className:"ml-2 text-dark align-self-center large-text font-weight-bold"},"Maths")),n.a.createElement("div",{className:"d-flex flex-row",title:"Show only English"},n.a.createElement(B.a,{defaultChecked:m,onChange:function(){var e={maths:o,english:!m,ga:b,showAllActive:w,selectedTeacher:F,selectedGrade:M,namePattern:z};u(!m),a(e)}}),n.a.createElement("div",{className:"ml-2 text-dark align-self-center large-text font-weight-bolder"},"English")),n.a.createElement("div",{className:"d-flex flex-row",title:"Show only GA"},n.a.createElement(B.a,{defaultChecked:b,onChange:function(){var e={maths:o,english:m,ga:!b,showAllActive:w,selectedTeacher:F,selectedGrade:M,namePattern:z};f(!b),a(e)}}),n.a.createElement("div",{className:"ml-2 text-dark align-self-center large-text font-weight-bolder"},"G.A")),Y?n.a.createElement("div",{className:"d-flex flex-row bg-white"},n.a.createElement(S.a.Toggle,{eventKey:"100",className:"bg-white border-0"},n.a.createElement(B.a,{defaultChecked:w,onChange:function(){var e={maths:o,english:m,ga:b,showAllActive:!w,selectedTeacher:F,selectedGrade:M,namePattern:z};E(!w),a(e)},id:"AllTeachers"})),n.a.createElement("div",{className:"ml-2 text-dark align-self-center large-text font-weight-bolder"},"All Teachers")):n.a.createElement("div",null)),Y?n.a.createElement(S.a.Collapse,{eventKey:"100"},n.a.createElement("form",null,n.a.createElement("div",{className:"d-flex flex-row shadow  mt-1 ml-4 mr-4 mb-1 pt-2 pl-4 pb-4 rounded-10 text-dark"},n.a.createElement("select",{className:"custom-select w-15 h-40 rounded-10 mr-3 medium-text",id:"teachers",onChange:function(e){var t=e.target.selectedIndex,r={maths:o,english:m,ga:b,showAllActive:w,selectedTeacher:e.target[t].text,selectedGrade:M,namePattern:z};a(r),A(e.target[t].text)}},n.a.createElement("option",{value:"0"},"Filter By Teacher"),j?j.map((function(e){return n.a.createElement("option",{value:e.id},e.teacherName)})):n.a.createElement(n.a.Fragment,null)),n.a.createElement("select",{className:"custom-select w-15 h-40 rounded-10 mr-3 medium-text",id:"grades",onChange:function(e){var t={maths:o,english:m,ga:b,showAllActive:w,selectedTeacher:F,selectedGrade:e.target.value,namePattern:z};a(t),G(e.target.value)}},n.a.createElement("option",{value:"0"},"Filter By Grade"),n.a.createElement("option",{value:"3"},"Year 3"),n.a.createElement("option",{value:"4"},"Year 4"),n.a.createElement("option",{value:"5"},"Year 5"),n.a.createElement("option",{value:"6"},"Year 6"),n.a.createElement("option",{value:"7"},"Year 7"),n.a.createElement("option",{value:"8"},"Year 8"),n.a.createElement("option",{value:"9"},"Year 9"),n.a.createElement("option",{value:"10"},"Year 10"),n.a.createElement("option",{value:"11"},"Year 11"),n.a.createElement("option",{value:"12"},"Year 12")),n.a.createElement("div",{className:"d-flex align-self-center active-cyan-3 active-cyan-4 ml-5 rounded-10 h-40 w-15"},n.a.createElement("input",{className:"form-control rounded-10 h-40 medium-text text-lightgrey",type:"text",placeholder:"Search...","aria-label":"Search",id:"searchBox",onChange:function(e){var t={maths:o,english:m,ga:b,showAllActive:w,selectedTeacher:F,selectedGrade:M,namePattern:e.target.value};a(t),H(e.target.value)}})),n.a.createElement("button",{type:"reset",className:"btn btn-warning h-35px rounded-10 ml-5 medium-text text-darkgrey",onClick:function(){a({maths:o,english:m,ga:b,showAllActive:w,selectedTeacher:"",selectedGrade:"",namePattern:""}),G(""),A(""),H("")}},"Clear Filter")))):n.a.createElement("div",null))}),R=function(e){Object(i.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this,e)).state={keyId:"topicSelection",selectedTopic:"",errorMessage:"",next:!!r.props.next&&r.props.next,confirmMessage:"Confirm Topic for ",selectMessage:"Select Topic for ",currentTopicMsg:"Today",nextTopicMsg:"Next Class",RESET:0,GO_TO_NEXT_STEP:r.props.step+1,GO_TO_PREVIOUS_STEP:r.props.step-1,response:{selectedTopic:"",step:1,next:!1,goBack:!1}},r.closeMe=r.closeMe.bind(Object(E.a)(r)),r.topicSelected=r.topicSelected.bind(Object(E.a)(r)),r.getRightBorderColor=r.getRightBorderColor.bind(Object(E.a)(r)),r.getSatus=r.getSatus.bind(Object(E.a)(r)),r.setTopicObj=r.setTopicObj.bind(Object(E.a)(r)),r.getProgressColor=r.getProgressColor.bind(Object(E.a)(r)),r.goBack=r.goBack.bind(Object(E.a)(r)),r.reset=r.reset.bind(Object(E.a)(r)),r}return Object(l.a)(a,[{key:"closeMe",value:function(){this.reset(),document.getElementById(this.state.keyId).style.display="none",this.props.step>=0&&this.props.resultHandler(this.state.response,!0)}},{key:"reset",value:function(){this.state.selectedTopic="",this.state.errorMessage="",this.state.next=!1}},{key:"topicSelected",value:function(e){this.state.selectedTopic=e}},{key:"setTopicObj",value:function(){if(""!==this.state.selectedTopic){var e=this.state.response;e.selectedTopic=this.state.selectedTopic,e.step=this.props.step+1,e.next=this.props.next,e.goBack=!1,this.props.step<=0?this.props.resultHandler(e):this.props.resultHandler(e,!1),document.getElementById(this.state.keyId).style.display="none",this.reset()}else this.setState({errorMessage:" - No Topic Selected"})}},{key:"goBack",value:function(){var e=this.state.response;e.selectedTopic="",e.step=this.state.GO_TO_PREVIOUS_STEP,e.next=this.props.next,e.goBack=!0,document.getElementById(this.state.keyId).style.display="none",this.props.resultHandler(e)}},{key:"getRightBorderColor",value:function(e){return e.id===this.props.currentTopic.id?"bg-warning green":!0===this.props.next&&e.id===this.props.nextTopic.id?"bg-info grey":null===e.status?"grey":"In Progress"===e.status?"green":"Completed"===e.status?"red":"Planned"===e.status?"yellow":void 0}},{key:"getSatus",value:function(e){return e.id===this.props.currentTopic.id?(this.state.selectedTopic=e,"Today's Topic"):!0===this.props.next&&e.id===this.props.nextTopic.id?(this.state.selectedTopic=e,"Next Topic"):null===e.status?"Not Started":"In Progress"===e.status?"In Progress since: "+e.startDate:"Completed"===e.status?"Completed on: "+e.endDate:"Planned"===e.status?"Planned from : "+e.plannedStartDate:void 0}},{key:"getProgressColor",value:function(e,t){return e>t?"background-green text-white":e===t?"background-blue text-white":"background-grey-plus1"}},{key:"render",value:function(){var e=this,t=this.props.data,a=this.props.step;return this.state.GO_TO_NEXT_STEP=a+1,n.a.createElement("div",{id:"topicSelection",className:"w3-modal"},n.a.createElement("div",{className:"w3-modal-content w3-animate-zoom w-77"},n.a.createElement("header",{className:"w3-container background-dark-blue text-white"},n.a.createElement("span",{onClick:this.closeMe,className:"w3-button w3-display-topright w3-hover-red"},"\xd7"),n.a.createElement("h2",null,this.props.step>=0?this.state.confirmMessage:this.state.selectMessage," ",this.props.next?this.state.nextTopicMsg:this.state.currentTopicMsg,n.a.createElement("span",{className:"text-danger font-weight-bolder large-plus-text"}," ",this.state.errorMessage))),this.props.step>0?n.a.createElement("div",{className:"w-100 d-flex flex-row justify-content-between text-Helvetica text-dark medium-text font-weight-light"},n.a.createElement("div",{className:"border-white w-20 text-center "+this.getProgressColor(a,1)},"Select CurrenT Topic"),n.a.createElement("div",{className:"border-white w-20 text-center "+this.getProgressColor(a,2)},"Add Feedback"," "),n.a.createElement("div",{className:"border-white w-20 text-center "+this.getProgressColor(a,3)},"Verify Next Topic"),n.a.createElement("div",{className:"border-white w-20 text-center "+this.getProgressColor(a,4)},"Review and Update"),n.a.createElement("div",{className:"border-white w-20 text-center "+this.getProgressColor(a,5)},"Submit Feedback")):n.a.createElement("div",null),n.a.createElement("div",{className:"w3-container"},n.a.createElement("div",{className:"w3-container h-400px"},n.a.createElement("div",{className:"list-group h-400px auto-scroll p-0 m-0"},t?t.map((function(t){return n.a.createElement("div",{tabIndex:"0",className:"list-group-item list-group-item-action p-0 m-0 d-flex flex-row right-border "+e.getRightBorderColor(t),onClick:function(){return e.topicSelected(t)}},n.a.createElement("div",{className:"w-75 border-right p-0 m-0 d-flex flex-column justify-content-center"},n.a.createElement("p",{className:"p-0 m-0 pl-4 large-text letter-s2 text-helvetica"},t.topicName+" - "+t.description),n.a.createElement("p",{className:"p-0 m-0 pl-4 medium-text font-weight-light text-helvetica"},t.chapter)),n.a.createElement("div",{className:"w-25 medium-text font-weight-light text-helvetica pt-4 pb-4 pl-2"},e.getSatus(t)))})):n.a.createElement("div",null)))),n.a.createElement("footer",{className:"w3-container background-dark-blue"},n.a.createElement("div",{className:"d-flex flex-row justify-content-center"},this.props.step>=0?this.props.next?n.a.createElement("button",{type:"button",className:" w3-center btn btn-warning rounded-lg mr-4 ",onClick:this.goBack},"Go Back"):n.a.createElement("button",{type:"button",className:" w3-center btn btn-warning rounded-lg mr-4 ",onClick:this.goBack,disabled:!0},"Go Back"):n.a.createElement("div",null),n.a.createElement("button",{type:"button",className:" w3-center btn btn-danger rounded-lg mr-4 ",onClick:this.closeMe},"Close"),this.props.step>=0?n.a.createElement("button",{type:"button",className:"btn btn-success rounded-lg ml-4",onClick:this.setTopicObj},"Confirm"):n.a.createElement("button",{type:"button",className:"btn btn-success rounded-lg ml-4",onClick:this.setTopicObj},"Select Topic")))))}}]),a}(r.Component),L=function(e){Object(i.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this,e)).state={clicked:!1},r.boxClicked=r.boxClicked.bind(Object(E.a)(r)),r.getBorderColor=r.getBorderColor.bind(Object(E.a)(r)),r.getButtonProp=r.getButtonProp.bind(Object(E.a)(r)),r.getextSize=r.getextSize.bind(Object(E.a)(r)),r.geHeadertextSize=r.geHeadertextSize.bind(Object(E.a)(r)),r}return Object(l.a)(a,[{key:"boxClicked",value:function(){var e=Object(k.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.state.clicked=!this.state.clicked,this.state.clicked?this.props.onOnClick&&this.props.onOnClick(this.props.keyId,this.props.heading):this.props.onOffClick&&this.props.onOffClick(this.props.keyId);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getButtonProp",value:function(){return this.state.clicked?"border-green":"shadow-lg border-greyplus1"}},{key:"getBorderColor",value:function(){return this.state.clicked?"green":""}},{key:"getextSize",value:function(){return this.state.clicked?"letter-s1":"letter-s1p5"}},{key:"geHeadertextSize",value:function(){return this.state.clicked?"letter-s2p5":"letter-s3"}},{key:"render",value:function(){return this.props.reset&&(this.state.clicked=!1,this.props.resetDone()),this.props.selected&&(this.state.clicked=this.props.selected),n.a.createElement("div",{id:"feedBox",className:"w-20 h-70 mt-3 d-flex flex-column justify-content-between rounded feedbox "+this.getButtonProp(),onClick:this.boxClicked},n.a.createElement("p",{className:"w-100 text-uppercase text-primary text-Helvetica text-11 font-weight-bolder border-bottom grey text-center pt-2 pb-2 "+this.geHeadertextSize()},this.props.heading?this.props.heading:"Dummy Header"),n.a.createElement("p",{className:"w-100 text-lightgrey2 text-Helvetica font-weight-light text-center pb-2 text-11 "+this.getextSize()},this.props.bodyText?this.props.bodyText:"Learned the concept but needs support sometimes"),n.a.createElement("div",{className:"w-100 h-10 background-grad-vertical "+this.getBorderColor()}))}}]),a}(r.Component),z=function(e){Object(i.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this,e)).callBackResultHandler=function(){document.getElementById(r.state.keyId).style.display="none";var e=new Map(r.state.feedbackObj.items),t=JSON.parse(JSON.stringify(r.state.feedbackObj));t.items=e,t.comment=r.teacherComment.value,setTimeout((function(){r.props.resultHandler(t,r.state.isGoBack)}),1)},r.clearFeedbacks=function(){r.state.errorMessage="",r.teacherComment.value="",r.state.feedbackObj.id="",r.state.feedbackObj.description="",r.state.feedbackObj.items=new Map,r.state.feedbackObj.comment=""},r.recordFeedback=function(e,t){r.setState({errorMessage:""}),r.state.feedbackObj.id=r.props.data.id,r.state.feedbackObj.description=r.props.data.description;var a=r.state.feedbackObj;a.items.set(""+e,""+t),r.setState({feedbackObj:a})},r.removeFeedback=function(e){var t=r.state.feedbackObj;t.items.delete(""+e),r.setState({feedbackObj:t})},r.initFeedback=function(){r.state.errorMessage="",r.teacherComment.value="",r.state.feedbackObj.id=r.props.data.id,r.state.feedbackObj.description=r.props.data.description,""===r.props.initialState?(r.state.feedbackObj.items=new Map,r.state.feedbackObj.comment=""):(r.state.feedbackObj.items=new Map,Array.from(r.props.initialState.items.keys()).map((function(e){return r.state.feedbackObj.items.set(e,r.props.initialState.items.get(e))})),r.state.feedbackObj.comment=r.props.initialState.comment,r.teacherComment.value=r.props.initialState.comment),r.props.initDone()},r.isSelected=function(e){return!!r.state.feedbackObj.items.has(""+e)},r.state={errorMessage:"",keyId:"feedbackSelection",isGoBack:!1,resetFeedbacks:!1,feedbackObj:{id:"",description:"",comment:"",items:new Map}},r.closeMe=r.closeMe.bind(Object(E.a)(r)),r.getProgressColor=r.getProgressColor.bind(Object(E.a)(r)),r.getFeedbackProgressClass=r.getFeedbackProgressClass.bind(Object(E.a)(r)),r.next=r.next.bind(Object(E.a)(r)),r.goBack=r.goBack.bind(Object(E.a)(r)),r.getAnimationCLass=r.getAnimationCLass.bind(Object(E.a)(r)),r.resetDone=r.resetDone.bind(Object(E.a)(r)),r.resetChildFeedbacBox=r.resetChildFeedbacBox.bind(Object(E.a)(r)),r}return Object(l.a)(a,[{key:"closeMe",value:function(){this.resetChildFeedbacBox(),document.getElementById(this.state.keyId).style.display="none",this.props.resultHandler(this.state.feedbackObj,!0,!0),this.clearFeedbacks()}},{key:"next",value:function(){var e=Object(k.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({isGoBack:!1,resetFeedbacks:!0}),this.callBackResultHandler(),this.clearFeedbacks();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"goBack",value:function(){var e=Object(k.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({isGoBack:!0,resetFeedbacks:!0}),this.callBackResultHandler(),this.clearFeedbacks();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"resetDone",value:function(){this.setState({resetFeedbacks:!1})}},{key:"resetChildFeedbacBox",value:function(){this.setState({resetFeedbacks:!0})}},{key:"getProgressColor",value:function(e,t){return e>t?"background-green text-white":e===t?"background-blue text-white":"background-grey-plus1"}},{key:"getFeedbackProgressClass",value:function(e){var t=this.props.feedbackCounter;return t===e?"glyphicon glyphicon-play text-primary text-11":t>e?"glyphicon glyphicon-ok text-success large-text":"glyphicon glyphicon-pause text-lightgrey2 text-11"}},{key:"getAnimationCLass",value:function(){return this.state.isGoBack?"w3-animate-top":"w3-animate-bottom"}},{key:"render",value:function(){var e=this,t=this.props.step,a=this.props.data;return a&&!0===this.props.initFeedback&&this.initFeedback(),n.a.createElement("div",{id:"feedbackSelection",className:"w3-modal"},n.a.createElement("div",{className:"w3-modal-content w-77 "+this.getAnimationCLass()},n.a.createElement("header",{className:"w3-container background-dark-blue text-white"},n.a.createElement("span",{onClick:this.closeMe,className:"w3-button w3-display-topright w3-hover-red"},"\xd7"),n.a.createElement("span",{className:"text-white large-plus1-text text-Helvetica letter-s2"},"Feedback for ",this.props.studentName,".",n.a.createElement("span",{className:"text-danger font-weight-bolder large-plus-text"}," ",this.state.errorMessage)),n.a.createElement("p",{className:"large-text text-white text-Helvetica font-weight-light letter-s1"},"TOPIC - "," "+this.props.topic)),n.a.createElement("div",{className:"w3-container"},n.a.createElement("div",{className:"w3-container h-400px pl-0 pr-0"},n.a.createElement("div",{className:"w-100 d-flex flex-row justify-content-between text-Helvetica text-dark medium-text font-weight-light"},n.a.createElement("div",{className:"border-white w-20 text-center "+this.getProgressColor(t,1)},"Select CurrenT Topic"),n.a.createElement("div",{className:"border-white w-20 text-center "+this.getProgressColor(t,2)},"Add Feedback [",this.props.feedbackCounter+1,"/",this.props.totalFeedbackCount,"]"),n.a.createElement("div",{className:"border-white w-20 text-center "+this.getProgressColor(t,3)},"Verify Next Topic"),n.a.createElement("div",{className:"border-white w-20 text-center "+this.getProgressColor(t,4)},"Review and Update"),n.a.createElement("div",{className:"border-white w-20 text-center "+this.getProgressColor(t,5)},"Submit Feedback")),n.a.createElement("div",{className:"d-flex flex-row w-100"},n.a.createElement("div",{className:"h-400px m-0 pl-0 pr-0 pt-4 pb-0 w-15 background-grey border-b-card-green shadow-lg border-right d-flex flex-column text-center justify-content-around"},this.props.feedbackMaster?this.props.feedbackMaster.map((function(t,a,r){return n.a.createElement("div",{className:"d-flex flex-column text-center justify-content-around"},n.a.createElement("p",{className:"text-dark text-11 font-weight-light text-helvetica text-uppercase letter-s3 p-0 m-0"},n.a.createElement("i",{className:""+e.getFeedbackProgressClass(0)})," ",t.description),a+1<e.props.feedbackMaster.length?n.a.createElement("div",{className:"border-grey h-50 w-0px align-self-center p-0 m-0"}):n.a.createElement(n.a.Fragment,null))})):n.a.createElement(n.a.Fragment,null),";"),n.a.createElement("div",{className:"text-primary pl-3 w-100 d-flex flex-column"},n.a.createElement("h4",{className:"font-weight-bold letter-s1"}," ","Feedback for ",a?a.description:""," Section"," ",n.a.createElement("span",{className:"text-danger medium-text"},""===this.state.errorMessage?"":this.state.errorMessage)),n.a.createElement("div",{className:"w-90 border-greyplus1"}),n.a.createElement("div",{className:"w-100 mt-4 d-flex flex-row justify-content-around"}," ",a?a.feedbacks.map((function(t){return n.a.createElement(L,{heading:t.shortDescription,bodyText:t.description,keyId:t.id,onOnClick:e.recordFeedback,onOffClick:e.removeFeedback,reset:e.state.resetFeedbacks,resetDone:e.resetDone,selected:e.isSelected(t.id)})})):n.a.createElement("div",null)),n.a.createElement("div",{className:"input-group input-group-lg mt-5 pl-4 pr-4 align-self-center"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("span",{className:"input-group-text meduim-text",id:"inputGroup-sizing-lg"},"Teacher's Comment")),n.a.createElement("input",{type:"text",id:"myInput",className:"form-control","aria-label":"Large","aria-describedby":"inputGroup-sizing-sm",ref:function(t){return e.teacherComment=t}})))))),n.a.createElement("footer",{className:"w3-container background-dark-blue"},n.a.createElement("div",{className:"d-flex flex-row justify-content-center"},n.a.createElement("button",{type:"button",className:" w3-center btn btn-warning rounded-lg mr-4 ",onClick:this.goBack},"Go Back"),n.a.createElement("button",{type:"button",className:" w3-center btn btn-danger rounded-lg mr-4 ",onClick:this.closeMe},"Close"),n.a.createElement("button",{type:"button",className:"btn btn-success rounded-lg ml-4",onClick:this.next},"Next")))))}}]),a}(r.Component),H=function(e){Object(i.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this,e)).state={isLoading:!0,groups:[],token:e.token},r}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=Object(k.a)(y.a.mark((function e(){var t,a,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(t=new Date).getDate()+"/"+(t.getMonth()+1)+"/"+t.getFullYear(),e.next=4,fetch(sessionStorage.getItem("proxy")+"/tsh/schedule",{method:"GET",headers:{Authorization:"Bearer "+this.state.token}});case 4:return a=e.sent,e.next=7,a.json();case 7:r=e.sent,this.setState({groups:r,isLoading:!1}),this.props.setToParent&&this.props.setToParent(this.state.groups);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return n.a.createElement("div",null)}}]),a}(r.Component),U=function(e){Object(i.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this,e)).getFirstDayOfWeek=function(){var e=new Date,t=e.getDate()-e.getDay(),a=new Date;return a.setDate(t),a.toDateString()},r.getLastDayOfWeek=function(){var e=new Date,t=e.getDate()-e.getDay()+6,a=new Date;return a.setDate(t),a.toDateString()},r.panelClicked=function(){r.state.panelClicked=!r.state.panelClicked},r.getDesc=function(e,t){var a="",n="";return r.props.feedbackMaster.map((function(t){e!==t.id||(n=t.feedbacks)})),n.map((function(e){e.id+""!==t||(a=e.description)})),a},r.getStudentBorder=function(e){if(r.state.studentList.has(e))return r.state.studentList.get(e).selected?" background orange text-white":" border-primary"},r.studentClicked=function(){var e=Object(k.a)(y.a.mark((function e(t){var a,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.state.studentList,(n=a.get(t)).selected=!n.selected,a.set(t,n),e.next=6,r.setState({studentList:a});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.state={panelClicked:!1,studentList:new Map,loaded:!1},r}return Object(l.a)(a,[{key:"getShortDesc",value:function(e,t){var a="",r="";return this.props.feedbackMaster.map((function(t){e!==t.id||(r=t.feedbacks)})),r.map((function(e){e.id+""!==t||(a=e.shortDescription)})),a}},{key:"render",value:function(){var e=this;return this.props.reset?(this.state.studentList.clear(),this.state.loaded=!1,this.state.panelClicked&&document.getElementById("moreStudents").click(),this.props.resetDone()):this.props.attendies&&this.props.attendies.length>0&&(this.props.attendies.map((function(t){var a=!1;a=t.name===e.props.studentName,e.state.studentList.has(t.id)||e.state.studentList.set(t.id,{name:t.name,selected:a})})),this.props.addStudent(this.state.studentList),this.state.loaded=!0),n.a.createElement(S.a,{className:"w-100 d-flex flex-column"},n.a.createElement("div",{className:"p-0 m-0 border-bottom grey pb-1 w-100 text-center"},this.props.step>0?n.a.createElement("div",null):n.a.createElement("div",{className:"text-Palatino p-0 m-0 pl-5 pt-1 h-36 w-100 batchList blue text-capitalize large-text letter-s3 font-weight-bold align-center"},"the study house - ["," ",n.a.createElement("span",{className:"text-cursive text-lowercase letter-s0 text-yellow medium-text font-weight-light font-italic"},"thestudyhouse.com")," ","]"),n.a.createElement("p",{className:"text-georgia text-darkgrey font-weight-bold letter-s1 large-plus1-text p-0 m-0"},"Feedback for ",this.props.studentName," ",n.a.createElement(S.a.Toggle,{as:"a",variant:"link",eventKey:"100"},n.a.createElement("i",{id:"moreStudents",className:"glyphicon glyphicon-pencil text-11 text-primary",title:"Copy this feedback to other students",onClick:this.panelClicked}))),n.a.createElement("p",{className:"text-georgia text-darkgrey font-weight-bold letter-s1 text-11 p-0 m-0"},"Current Week - ",this.getFirstDayOfWeek()," -"," ",this.getLastDayOfWeek())),n.a.createElement(S.a.Collapse,{eventKey:"100"},n.a.createElement("div",{className:"w-100 d-flex flex-row justify-content-center"},n.a.createElement("div",{className:"w-75 ml-4 mt-3 d-flex align-self-center flex-row justify-content-center align-self-center medium-text text-darkgrey text-helvetica left-border-blue border-grey rounded-right-5"},n.a.createElement("div",{className:"w-75 d-flex flex-row pl-3"},n.a.createElement("span",{className:"p-0 m-0 align-self-center"},"Copy this Feedback to :"," "),this.props.attendies&&this.props.attendies.length>1?this.props.attendies.map((function(t){return t.name!==e.props.studentName?n.a.createElement("div",{className:"w-20 h-40 p-0 m-0 ml-5 mt-2 mb-2 mr-3 d-flex shadow-sm flex-row border rounded-10 text-uppercase text-11 font-weight-bold text-center justify-content-center"+e.getStudentBorder(t.id),onClick:function(){return e.studentClicked(t.id)}},n.a.createElement("span",{className:"m-0 p-0 align-self-center"},t.name)):n.a.createElement("div",null)})):n.a.createElement("div",{className:"w-20 h-40 p-0 m-0 ml-5 mt-2 mb-2 mr-3 d-flex shadow-sm flex-row border-grey background-grey rounded-10 text-uppercase text-11 font-weight-bold text-center justify-content-center"},n.a.createElement("span",{className:"m-0 p-0 align-self-center"},"No more student in this batch")))))),n.a.createElement("div",{className:"w-100 d-flex flex-column justify-content-center"},n.a.createElement("div",{className:"p-0 m-0 mt-3 ml-4 pt-4 pb-4 w-75 align-self-center background-light-  grey text-helvetica text-11 text-dark letter-s1 left-border green border-grey rounded-right-5"},n.a.createElement("p",{className:"p-0 m-0 pl-3 text-uppercase letter-s2 text-verdena"},"Subject :"," ",n.a.createElement("span",{className:"medium-text text-capitalize"},this.props.course)),n.a.createElement("p",{className:"p-0 m-0 pl-3 text-uppercase letter-s2 text-verdena"},"topic :"," ",n.a.createElement("span",{className:"medium-text text-capitalize"},this.props.currentTopic)),n.a.createElement("p",{className:"p-0 m-0 pl-3 text-uppercase letter-s2 text-verdena"},"Next Topic :"," ",n.a.createElement("span",{className:"medium-text text-capitalize"},this.props.nextTopic)),n.a.createElement("p",{className:"p-0 m-0 pl-3 text-uppercase letter-s2 text-verdena"},"Teacher :"," ",n.a.createElement("span",{className:"medium-text text-capitalize"},this.props.teacher)),n.a.createElement("p",{className:"p-0 m-0 pl-3 text-uppercase letter-s2 text-verdena"},"Term :"," ",n.a.createElement("span",{className:"medium-text text-capitalize"},this.props.term))),n.a.createElement("div",{className:"w-75 ml-4 pt-4 align-self-center d-flex justify-content-center flex-row flex-wrap "},this.props.fullFeedback?Array.from(this.props.fullFeedback.values()).map((function(t){return n.a.createElement("div",{className:"w-49 h-80 border-grey mr-1 mb-1 shadow-sm rounded-top-left-5 rounded-bottom-right-5 d-flex flex-column border-b-card-green"},n.a.createElement("span",{className:"pt-1 pb-1 mb-2 text-georgia text-lightgrey3 align-self-center text-11 font-weight-bold letter-s4 text-uppercase background-grey-plus w-100 text-center"},t.description,n.a.createElement("i",{className:"glyphicon glyphicon-pencil smaller-text text-primary",title:"Edit Feedback"})),Array.from(t.items.keys()).map((function(a){return n.a.createElement("span",{className:"text-13 ml-1 mt-2 mb-1 text-dark text-helvetica font-weight-bold text-uppercase letter-s2"},n.a.createElement("i",{className:"glyphicon glyphicon-asterisk smaller-text text-primary pl-1 pr-2"}),e.getShortDesc(t.id,a)+" - ",n.a.createElement("span",{className:"pl-1 text-verdena text-13 text-dark text-capitalize font-weight-light letter-s1"},e.getDesc(t.id,a)))})),n.a.createElement("span",{className:"text-13 ml-3 mt-3 mb-1 text-dark text-helvetica font-weight-bold text-uppercase letter-s2"},n.a.createElement("span",{className:"badge badge-info badge-lg p-2"},"Teacher's Comment -"),n.a.createElement("p",{className:"pl-1 mt-2 text-verdena text-13 text-dark text-capitalize font-weight-light letter-s1"},""!==t.comment?t.comment:"--- none ---")))})):n.a.createElement("div",null,"this is me"))))}}]),a}(r.Component),Y=function(e){Object(i.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this,e)).goBack=function(){r.closeMe(),r.state.response.goBack=!0,r.state.response.next=!1,r.props.resultHandler(r.state.response)},r.submit=function(){r.state.response.next=!0,r.state.response.goBack=!1,r.props.resultHandler(r.state.response),r.state.response.studentList="",r.closeMe()},r.resetDone=function(){r.state.resetChild=!1},r.getStudentListMap=function(e){r.state.response.studentList=e},r.state={keyId:"feedbackReport",errorMessage:"",resetChild:!1,response:{next:!1,goBack:!1,studentList:""}},r.getProgressColor=r.getProgressColor.bind(Object(E.a)(r)),r.closeMe=r.closeMe.bind(Object(E.a)(r)),r}return Object(l.a)(a,[{key:"getProgressColor",value:function(e,t){return e>t?"background-green text-white":e===t?"background-blue text-white":"background-grey-plus1"}},{key:"closeMe",value:function(){document.getElementById(this.state.keyId).style.display="none",this.state.response.studentList="",this.setState({resetChild:!0})}},{key:"render",value:function(){var e=parseInt(this.props.step);return n.a.createElement("div",{id:"feedbackReport",className:"w3-modal myposition"},n.a.createElement("div",{className:"w3-modal-content w3-animate-zoom w-77"},n.a.createElement("header",{className:"w3-container background-dark-blue text-white"},n.a.createElement("span",{onClick:this.closeMe,className:"w3-button w3-display-topright w3-hover-red"},"\xd7"),n.a.createElement("h2",null,"Review Feedback",n.a.createElement("span",{className:"text-danger font-weight-bolder large-plus-text"}," ",this.state.errorMessage))),this.props.step>0?n.a.createElement("div",{className:"w-100 d-flex flex-row justify-content-between text-Helvetica text-dark medium-text font-weight-light"},n.a.createElement("div",{className:"border-white w-20 text-center "+this.getProgressColor(e,1)},"Select Current Topic"),n.a.createElement("div",{className:"border-white w-20 text-center "+this.getProgressColor(e,2)},"Add Feedback"," "),n.a.createElement("div",{className:"border-white w-20 text-center "+this.getProgressColor(e,3)},"Verify Next Topic"),n.a.createElement("div",{className:"border-white w-20 text-center "+this.getProgressColor(e,4)},"Review and Update"),n.a.createElement("div",{className:"border-white w-20 text-center "+this.getProgressColor(e,5)},"Submit Feedback")):n.a.createElement("div",null),n.a.createElement("div",{className:"w3-container p-1"},n.a.createElement("div",{className:"w3-container h-500px auto-scroll p-0 m-0"},n.a.createElement(U,{studentName:this.props.studentName,step:this.props.step,currentTopic:this.props.currentTopic,nextTopic:this.props.nextTopic,course:this.props.course,term:this.props.term,teacher:this.props.teacher,attendies:this.props.attendies,fullFeedback:this.props.fullFeedback,feedbackMaster:this.props.feedbackMaster,reset:this.state.resetChild,resetDone:this.resetDone,addStudent:this.getStudentListMap}))),n.a.createElement("footer",{className:"w3-container background-dark-blue"},n.a.createElement("div",{className:"d-flex flex-row justify-content-center"},n.a.createElement("button",{type:"button",className:" w3-center btn btn-warning rounded-lg mr-4 ",onClick:this.goBack},"Go Back"),n.a.createElement("button",{type:"button",className:" w3-center btn btn-danger rounded-lg mr-4 ",onClick:this.closeMe},"Close"),n.a.createElement("button",{type:"button",className:"btn btn-success rounded-lg ml-4",onClick:this.submit},"Review Completed - Save Feedback")))))}}]),a}(r.Component),K=function(e){Object(i.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this,e)).closeMe=function(){document.getElementById("feedbackSubmit").style.display="none"},r.getStatus=function(){return!0===r.props.success?" glyphicon-ok text-success":" glyphicon-remove text-danger"},r.getText=function(){return!0===r.props.success?"Feedback Submitted Successfully !!!":"Error "+r.props.errorCode+" - Submit Feedback failed. Try again after sometime."},r.state={loaded:r.props.loaded,success:r.props.success},r}return Object(l.a)(a,[{key:"render",value:function(){return!1===this.props.loaded?n.a.createElement("div",{id:"feedbackSubmit",className:"w3-modal myposition"},n.a.createElement("div",{className:"w3-modal-content w3-animate-zoom d-flex flex-column text-center background-grey w-20 h-70 justify-content-center"},n.a.createElement("div",{className:"spinner-border text-info align-self-center",role:"status"},n.a.createElement("span",{className:"sr-only"},"Loading...")))):n.a.createElement("div",{id:"feedbackSubmit",className:"w3-modal"},n.a.createElement("div",{className:"w3-modal-content w3-animate-zoom w-49 border border-grey"},n.a.createElement("header",{className:"w3-container background-dark-blue text-white"},n.a.createElement("span",{onClick:this.closeMe,className:"w3-button w3-display-topright w3-hover-red"},"\xd7"),n.a.createElement("h6",null,"Feedback Submit Status")),n.a.createElement("div",{className:"w3-container pt-3 pb-3"},n.a.createElement("div",{className:"w3-container h-100px text-dark text-center"},n.a.createElement("i",{className:"glyphicon mr-3 large-plus1-text"+this.getStatus()}),n.a.createElement("h5",null,this.getText()))),n.a.createElement("footer",{className:"w3-container"},n.a.createElement("div",{className:"d-flex flex-row justify-content-center"},n.a.createElement("button",{type:"button",className:" w3-center btn btn-primary btn-sm rounded-lg mb-2 pl-5 pr-5",onClick:this.closeMe},"OK")))))}}]),a}(r.Component),J=function(){return n.a.createElement("div",{className:"w-75 h-70 d-flex flox-row justify-content-center align-items-center"},n.a.createElement("div",{className:"spinner-border text-info",role:"status"},n.a.createElement("span",{className:"sr-only"},"Loading...")))},q=function(e){Object(i.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this,e)).acceptData=function(e){e&&r.setState({batchData:JSON.parse(JSON.stringify(e)),loaded:!0})},r.launchTopicSelector=function(e){r.setState({forTopic:e}),document.getElementById("topicSelection").style.display="block"},r.launchFeedbackSelector=function(){var e=Object(k.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.setState({forFeedback:t,initFeedback:!0});case 2:document.getElementById("feedbackSelection").style.display="block";case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.launchFeedbackReviewSelector=function(){var e=Object(k.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.setState({forFeedback:t});case 2:document.getElementById("feedbackReport").style.display="block";case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.launchFeedbackSubmit=function(e,t,a){r.setState({submitResult:e,submitStatus:t,errorCode:a})},r.callBackPostInitFeedback=function(){r.setState({initFeedback:!1})},r.getAttendiesName=function(e){for(var t="",a=0;a<e.length;a++)t+=e[a].name,a<e.length-1&&(t+="  |  ");return t},r.checkPattern=function(e){if(""==r.state.filters.namePattern||null==r.state.filters.namePattern)return!0;e.name.includes(r.state.filters.namePattern)},r.isFiltered=function(e){var t=!1,a=!1,n=!1,s=!1;e.course.includes("Maths")&&(a=!!r.state.filters.maths),e.course.includes("English")&&(a=!!r.state.filters.english),e.course.includes("GA")&&(a=!!r.state.filters.ga);var c=JSON.parse(sessionStorage.getItem("welcomeKit")).teacher.teacherName;if(r.state.filters.showAllActive?(t=e.teacherName==r.state.filters.selectedTeacher,"Filter By Teacher"!=r.state.filters.selectedTeacher&&"Admin"!=r.state.filters.selectedTeacher&&""!=r.state.filters.selectedTeacher&&null!=r.state.filters.selectedTeacher||(t=!0)):t=!!e.teacherName.includes(c),n=e.grade+""==r.state.filters.selectedGrade||"0"==r.state.filters.selectedGrade||""==r.state.filters.selectedGrade||null==r.state.filters.selectedGrade,null==r.state.filters.namePattern||""==r.state.filters.namePattern)s=!0;else if(e.attendies.length>0)for(var o=0;o<e.attendies.length;o++){e.attendies[o].name.toLowerCase().includes(r.state.filters.namePattern.toLowerCase())?(s=!0,o=e.attendies.length+1):s=!1}else s=!0;return!!(a&&t&&n&&s)},r.setFilter=function(e){r.setState({filters:e})},r.state={blueProfile:"blue",greenProfile:"green",yellowProfile:"yellow",orangeProfile:"orange",expand:"",loaded:!1,batchData:"",selectedBatchData:"",feedbackMasterData:"",feedbackMasterCount:0,feedbackRefreshRequired:!0,forTopic:"",forFeedback:"",initFeedback:!1,submitResult:!1,submitStatus:!1,errorCode:100,filters:{maths:!0,english:!0,ga:!0}},r.constructext=r.constructext.bind(Object(E.a)(r)),r.getProfile=r.getProfile.bind(Object(E.a)(r)),r.fetchFeedbackCategories=r.fetchFeedbackCategories.bind(Object(E.a)(r)),r}return Object(l.a)(a,[{key:"getProfile",value:function(e){return e.includes("Maths")?this.state.blueProfile:e.includes("English")?this.state.orangeProfile:e.includes("GA")?this.state.greenProfile:this.state.orangeProfile}},{key:"constructext",value:function(e){return e.day+" "+e.startTime+" - "+e.endTime+" - Grade "+e.grade+" - "+e.courseDescription}},{key:"fetchFeedbackCategories",value:function(){var e=Object(k.a)(y.a.mark((function e(t,a){var r,n,s,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("clicked.."),this.state.expand!=t){e.next=6;break}return this.state.expand="",e.abrupt("return");case 6:this.state.expand=t;case 7:return e.next=9,fetch(sessionStorage.getItem("proxy")+"/tsh/feedback/category/"+t+"/true",{method:"GET",headers:{Authorization:"Bearer "+this.props.token}});case 9:return r=e.sent,e.next=12,r.json();case 12:return n=e.sent,e.next=15,fetch(sessionStorage.getItem("proxy")+"/tsh/schedule/getBatchData/"+a,{method:"GET",headers:{Authorization:"Bearer "+this.props.token}});case 15:return s=e.sent,e.next=18,s.json();case 18:c=e.sent,this.setState({feedbackMasterData:n,feedbackMasterCount:n.length,feedbackRefreshRequired:!1,selectedBatchData:c});case 20:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.batchData,a=1;return!1===this.state.loaded?n.a.createElement("div",{className:"full-height d-flex flox-row justify-content-center align-items-center background-grey"},n.a.createElement(H,{setToParent:this.acceptData,token:this.props.token}),n.a.createElement("div",{className:"spinner-border text-info",role:"status"},n.a.createElement("span",{className:"sr-only"},"Loading..."))):n.a.createElement("div",{style:{width:"100%"}},n.a.createElement(G,{features:this.props.features,setFilter:this.setFilter}),n.a.createElement(R,{step:this.state.forTopic.step,data:this.state.forTopic.data,currentTopic:this.state.forTopic.currentTopic,nextTopic:this.state.forTopic.nextTopic,next:this.state.forTopic.next,progressManager:this.state.forTopic.progressManager,resultHandler:this.state.forTopic.resultHandler}),n.a.createElement(z,{studentName:this.state.forFeedback.studentName,topic:this.state.forFeedback.topic?this.state.forFeedback.topic.description:"",feedbackCounter:this.state.forFeedback.feedbackCounter,totalFeedbackCount:this.state.forFeedback.totalFeedbackCount,resultHandler:this.state.forFeedback.resultHandler,initialState:this.state.forFeedback.initialState,data:this.state.forFeedback.feedbackMasterData,step:this.state.forFeedback.step,initFeedback:this.state.initFeedback,initDone:this.callBackPostInitFeedback,feedbackMaster:this.state.feedbackMasterData}),n.a.createElement(Y,{studentName:this.state.forFeedback.studentName,step:this.state.forFeedback.step,course:this.state.forFeedback.course,term:this.state.forFeedback.term,teacher:this.state.forFeedback.teacher,attendies:this.state.forFeedback.attendies,resultHandler:this.state.forFeedback.resultHandler,fullFeedback:this.state.forFeedback.fullFeedback,feedbackMaster:this.state.feedbackMasterData,feedbackSubmit:this.feedbackSubmit,currentTopic:this.state.forFeedback.topic?(this.state.forFeedback.topic.topicName||"")+" - "+this.state.forFeedback.topic.description+" - "+(this.state.forFeedback.topic.chapter||""):"",nextTopic:this.state.forFeedback.nextTopic?(this.state.forFeedback.nextTopic.topicName||"")+" - "+this.state.forFeedback.nextTopic.description+" - "+(this.state.forFeedback.nextTopic.chapter||""):""}),n.a.createElement(K,{loaded:this.state.submitResult,success:this.state.submitStatus,errorCode:this.state.errorCode}),n.a.createElement(S.a,{style:{width:"100%"}},t?t.filter((function(t){return e.isFiltered(t)})).map((function(t){return n.a.createElement(O.a,{style:{width:"100%"},className:"m-0 p-0 shadow-lg"},n.a.createElement(S.a.Toggle,{as:O.a.Header,variant:"link",eventKey:a+"",tabindex:"0",focus:!0,onClick:function(){return e.fetchFeedbackCategories(t.grade,t.key)},className:"d-flex flex-row justify-content-between align-items-center p-0 m-0 border-0 rounded-5"+e.getProfile(t.course)},n.a.createElement("div",{className:"d-flex pl-4 w-8 m-0 h-40 text-center rounded-top-left-5 rounded-bottom-left-5 batchList "+e.getProfile(t.course)},n.a.createElement("p",{className:"p-0 m-0 text-helvetica text-11 font-weight-bold align-self-center text-uppercase letter-s2 "},"Grade ",t.grade)),n.a.createElement("div",{className:"d-flex justify-content-center w-57 h-40 m-0 background-grad-grey "},n.a.createElement("p",{className:"p-0 m-0 text-darkgrey text-helvetica text-12 font-weight-bold text-uppercase letter-s3 align-self-center "},e.getAttendiesName(t.attendies))),n.a.createElement("div",{className:"d-flex justify-content-center w-15 h-40 m-0 background-grey-plus right-border-white left-border-white "},n.a.createElement("p",{className:"p-0 m-0 text-dark text-helvetica text-12 text-capitalize letter-s1 font-weight-bold align-self-center  "},t.courseDescription)),n.a.createElement("div",{className:"d-flex w-20 h-40 pr-4 m-0 rounded-top-right-5 rounded-bottom-right-5 border background-grey-plus justify-content-end "},n.a.createElement("p",{className:"p-0 m-0 text-darkgrey text-helvetica text-12 font-weight-bold align-self-center "},t.day+" "+t.startTime+" - "+t.endTime))),n.a.createElement(S.a.Collapse,{eventKey:""+a++},e.state.selectedBatchData.key==t.key?n.a.createElement(I,{profile:e.getProfile(e.state.selectedBatchData.course),data:e.state.selectedBatchData,feedbackHandle:e.props.feedbackHandle,token:e.props.token,topicSelector:e.launchTopicSelector,feedbackSelector:e.launchFeedbackSelector,feedbackSubmit:e.launchFeedbackSubmit,feedbackReviewSelector:e.launchFeedbackReviewSelector,feedbackMasterCount:e.state.feedbackMasterCount,feedbackMaster:e.state.feedbackMasterData,evtKey:a-1}):n.a.createElement("div",{className:"w-100 d-flex flox-row justify-content-center align-items-center bg-secondary"},n.a.createElement("div",{className:"spinner-border text-info mt-2 mb-2 ",role:"status"},n.a.createElement("span",{className:"sr-only"},"Loading...")))))})):n.a.createElement("div",null)))}}]),a}(r.Component),W=a(23),V=a(28),X=a(2),Q=function(){var e=Object(r.useState)([]),t=Object(P.a)(e,2),a=t[0],s=t[1],c=Object(r.useState)({gradeProp:"",termProp:"",weekProp:"",subjectProp:"",chapterProp:"",descriptionProp:"",topicNameProp:"",messageProp:"text-danger",messageString:""}),o=Object(P.a)(c,2),l=o[0],i=o[1],d=Object(r.useState)({grade:"0",term:"0",week:"0",course:"",chapter:"",description:"",topicName:""}),m=Object(P.a)(d,2),u=m[0],p=m[1],g=Object(r.useState)({}),b=Object(P.a)(g,2),f=b[0],h=b[1],x=function(){var e=Object(k.a)(y.a.mark((function e(){var t,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(sessionStorage.getItem("proxy")+"/tsh/topicmanager/getTopicData",{method:"GET",headers:{Authorization:"Bearer "+sessionStorage.getItem("jwt"),"Content-Type":"application/json"}});case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,h(a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){x()}),[]);var w=function(){var e=Object(k.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a.length<=0)){e.next=5;break}return window.alert("No new topics found. Nothing to create. Please click Add Topic to generate new topics first"),e.abrupt("return");case 5:if(!window.confirm("Do you want to create "+a.length+" new topics? Confirm(Yes/No)")){e.next=11;break}return t={topicRequest:a},e.next=9,fetch(sessionStorage.getItem("proxy")+"/tsh/topicmanager/createTopic",{method:"POST",headers:{Authorization:"Bearer "+sessionStorage.getItem("jwt"),"Content-Type":"application/json"},body:JSON.stringify(t)});case 9:202===e.sent.status?(i(Object(X.a)(Object(X.a)({},l),{},{messageProp:"text-success",messageString:"Successfully created "+a.length+" topics"})),s([])):i(Object(X.a)(Object(X.a)({},l),{},{messageProp:"text-danger",messageString:"Unable to create Topics. Internal Server error. Try again later."}));case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return n.a.createElement("section",{className:"d-flex flex-column justify-content-center align-items-center w-100 text-dark"},n.a.createElement("h3",{className:"text-high-tower"},"New Topics"),n.a.createElement("div",{className:"w-85 border-t-grey shadow rounded-lg "},n.a.createElement("div",{className:"d-flex flex-row background-dark-blue text-center text-georgia text-white large-text m-0 pl-0"},n.a.createElement("p",{className:"p-0 m-0 left-border-grey bottom-border-grey right-border-grey1px w-5"},"Term"),n.a.createElement("p",{className:"p-0 m-0 bottom-border-grey right-border-grey1px w-10"},"Week"),n.a.createElement("p",{className:"p-0 m-0 bottom-border-grey right-border-grey1px w-10"},"Grade"),n.a.createElement("p",{className:"p-0 m-0 bottom-border-grey right-border-grey1px w-10"},"Subject"),n.a.createElement("p",{className:"p-0 m-0 bottom-border-grey right-border-grey1px w-15"},"Chapter"),n.a.createElement("p",{className:"p-0 m-0 bottom-border-grey right-border-grey1px w-24"},"Topic Name"),n.a.createElement("p",{className:"p-0 m-0 bottom-border-grey right-border-grey1px w-24"},"Description"),n.a.createElement("p",{className:"p-0 m-0 bottom-border-grey right-border-grey1px w-2"})),a.length<=0?n.a.createElement("div",{className:"w-100 m-0 p-0 background-grey text-12 text-center font-weight-bold"},"Click 'Add Topic' to create new topic"):a.map((function(e,t){return n.a.createElement("div",{className:"d-flex flex-row w-100 m-0 p-0 text-13 text-center font-weight-bold bg-white"},n.a.createElement("p",{className:"p-0 m-0 left-border-grey bottom-border-grey right-border-grey1px w-5"},e.term),n.a.createElement("p",{className:"p-0 m-0 bottom-border-grey right-border-grey1px w-10"},e.week),n.a.createElement("p",{className:"p-0 m-0 bottom-border-grey right-border-grey1px w-10"},e.grade),n.a.createElement("p",{className:"p-0 m-0 bottom-border-grey right-border-grey1px w-10"},e.course),n.a.createElement("p",{className:"p-0 m-0 bottom-border-grey right-border-grey1px w-15"},e.chapter),n.a.createElement("p",{className:"p-0 m-0 bottom-border-grey right-border-grey1px w-24"},e.topicName),n.a.createElement("p",{className:"p-0 m-0 bottom-border-grey right-border-grey1px w-24"},e.description),n.a.createElement("p",{className:"p-0 m-0 bottom-border-grey right-border-grey1px w-2 large-text glyphicon glyphicon-remove-circle text-danger cur-pointer",tabIndex:"100",title:"Delete this item",onClick:function(){return function(e){for(var t=[],r=0;r<a.length;r++)r!==e&&t.push(Object(X.a)({},a[r]));s([].concat(t))}(t)}}))}))),n.a.createElement("button",{type:"button",className:"mt-3 mb-3 btn btn-primary rounded",onClick:w},"Create Topics"),n.a.createElement("h3",{className:"text-high-tower mt-4"},"Add Topic Details & Click Add Topic"),n.a.createElement("div",{className:"large-text mt-0 mb-0 text-georgia text-center h-40 "+l.messageProp},l.messageString),n.a.createElement("form",{className:"form-inline mb-3 mt-0 w-85 pt-5 d-flex flex-column justify-content-around border-t-grey shadow rounded-lg border",onSubmit:function(){if("0"!==u.term)if(i(Object(X.a)(Object(X.a)({},l),{},{termProp:"",messageString:""})),"0"!==u.week)if(i(Object(X.a)(Object(X.a)({},l),{},{weekProp:"",messageString:""})),"0"!==u.grade)if(i(Object(X.a)(Object(X.a)({},l),{},{gradeProp:"",messageString:""})),""!==u.course)if(i(Object(X.a)(Object(X.a)({},l),{},{subjectProp:"",messageString:""})),""!==u.chapter)if(i(Object(X.a)(Object(X.a)({},l),{},{chapterProp:"",messageString:""})),""!==u.topicName)if(i(Object(X.a)(Object(X.a)({},l),{},{topicNameProp:"",messageString:""})),""!==u.description){i(Object(X.a)(Object(X.a)({},l),{},{descriptionProp:"",messageString:""}));var e=Object(V.a)(a);e.push(Object(X.a)({},u)),p({grade:"0",term:"0",week:"0",course:"",chapter:"",description:"",topicName:""}),s(Object(V.a)(e))}else i(Object(X.a)(Object(X.a)({},l),{},{descriptionProp:"background-pink",messageProp:"text-danger",messageString:"Description cannot be blank."}));else i(Object(X.a)(Object(X.a)({},l),{},{topicNameProp:"background-pink",messageProp:"text-danger",messageString:"Topic Name cannot be blank."}));else i(Object(X.a)(Object(X.a)({},l),{},{chapterProp:"background-pink",messageProp:"text-danger",messageString:"Chapter cannot be blank."}));else i(Object(X.a)(Object(X.a)({},l),{},{subjectProp:"background-pink",messageProp:"text-danger",messageString:"Mandatory field subject. Select an option."}));else i(Object(X.a)(Object(X.a)({},l),{},{gradeProp:"background-pink",messageProp:"text-danger",messageString:"Mandatory field grade. Select an option."}));else i(Object(X.a)(Object(X.a)({},l),{},{weekProp:"background-pink",messageProp:"text-danger",messageString:"Mandatory field Week. Select an option."}));else i(Object(X.a)(Object(X.a)({},l),{},{termProp:"background-pink",messageProp:"text-danger",messageString:"Mandatory field Term. Select an option."}))}},n.a.createElement("div",{className:"d-flex flex-row justify-content-between w-100 m-0 p-0 pl-2 pr-2 "},n.a.createElement("div",{className:"input-group mb-2 w-20 d-flex justify-content-center flex-nowrap"},n.a.createElement("div",{className:"input-group-prepend w-35"},n.a.createElement("div",{className:"input-group-text w-100 d-flex flex-row justify-content-center "},"Term")),n.a.createElement("select",{className:"custom-select w-75 h-40 rounded-10 mr-3 medium-text "+l.termProp,onChange:function(e){return p(Object(X.a)(Object(X.a)({},u),{},{term:e.target.value}))},onClick:function(){return i(Object(X.a)(Object(X.a)({},l),{},{termProp:"",messageString:""}))},value:u.term},n.a.createElement("option",{value:"0",defaultValue:!0},"Select"),f&&f.terms?f.terms.map((function(e){return n.a.createElement("option",{value:e.term,key:e.id},e.description)})):n.a.createElement(n.a.Fragment,null))),n.a.createElement("div",{className:"input-group mb-2 mr-sm-2 w-20  d-flex justify-content-center flex-nowrap"},n.a.createElement("div",{className:"input-group-prepend w-35"},n.a.createElement("div",{className:"input-group-text w-100 d-flex flex-row justify-content-center "},"Week")),n.a.createElement("select",{className:"custom-select w-75 h-40 rounded-10 mr-3 medium-text "+l.weekProp,onChange:function(e){return p(Object(X.a)(Object(X.a)({},u),{},{week:e.target.value}))},onClick:function(){return i(Object(X.a)(Object(X.a)({},l),{},{weekProp:"",messageString:""}))},value:u.week},n.a.createElement("option",{value:"0",defaultValue:!0},"Select"),f&&f.week?f.week.map((function(e){return n.a.createElement("option",{value:e.weekNumber,key:e.id},e.description)})):n.a.createElement(n.a.Fragment,null))),n.a.createElement("div",{className:"input-group mb-2 mr-sm-2 w-20  d-flex justify-content-center flex-nowrap"},n.a.createElement("div",{className:"input-group-prepend w-35"},n.a.createElement("div",{className:"input-group-text w-100 d-flex flex-row justify-content-center "},"Grade")),n.a.createElement("select",{className:"custom-select w-75 h-40 rounded-10 mr-3 medium-text "+l.gradeProp,onChange:function(e){return p(Object(X.a)(Object(X.a)({},u),{},{grade:e.target.value}))},onClick:function(){return i(Object(X.a)(Object(X.a)({},l),{},{gradeProp:"",messageString:""}))},value:u.grade},n.a.createElement("option",{value:"0",defaultValue:!0},"Select"),f&&f.grades?f.grades.map((function(e){return n.a.createElement("option",{value:e.grade,key:e.id},"Grade "+e.grade)})):n.a.createElement(n.a.Fragment,null))),n.a.createElement("div",{className:"input-group mb-2 mr-sm-2 w-20  d-flex justify-content-center flex-nowrap"},n.a.createElement("div",{className:"input-group-prepend w-35"},n.a.createElement("div",{className:"input-group-text w-100 d-flex flex-row justify-content-center "},"subject")),n.a.createElement("select",{className:"custom-select w-75 h-40 rounded-10 mr-3 medium-text "+l.subjectProp,onChange:function(e){return p(Object(X.a)(Object(X.a)({},u),{},{course:e.target.value}))},onClick:function(){return i(Object(X.a)(Object(X.a)({},l),{},{subjectProp:"",messageString:""}))},value:u.course},n.a.createElement("option",{value:"0",defaultValue:!0},"Select"),f&&f.rCourse?f.rCourse.map((function(e){return n.a.createElement("option",{value:e.shortDescription,key:e.id},e.shortDescription)})):n.a.createElement(n.a.Fragment,null)))),n.a.createElement("div",{className:"d-flex flex-row justify-content-start w-100 m-0 mt-3 p-0 pl-0 pr-0"},n.a.createElement("div",{className:"input-group m-0 mb-2 w-25 d-flex justify-content-center flex-nowrap"},n.a.createElement("div",{className:"input-group-prepend m-0 w-30"},n.a.createElement("div",{className:"input-group-text w-100"},"Chapter")),n.a.createElement("input",{type:"text",className:"form-control w-70 "+l.chapterProp,id:"inlineFormInputGroupDescription",placeholder:"Chapter",onChange:function(e){return p(Object(X.a)(Object(X.a)({},u),{},{chapter:e.target.value}))},onClick:function(){return i(Object(X.a)(Object(X.a)({},l),{},{chapterProp:"",messageString:""}))},value:u.chapter})),n.a.createElement("div",{className:"input-group mb-2 mr-sm-2 w-35 d-flex justify-content-center flex-nowrap"},n.a.createElement("div",{className:"input-group-prepend w-30"},n.a.createElement("div",{className:"input-group-text w-100"},"Topic Name")),n.a.createElement("input",{type:"text",className:"form-control w-70 "+l.topicNameProp,id:"inlineFormInputGroupDescription",placeholder:"Topic Name",onChange:function(e){return p(Object(X.a)(Object(X.a)({},u),{},{topicName:e.target.value}))},onClick:function(){return i(Object(X.a)(Object(X.a)({},l),{},{topicNameProp:"",messageString:""}))},value:u.topicName})),n.a.createElement("div",{className:"input-group mb-2 w-40 d-flex justify-content-center flex-nowrap"},n.a.createElement("div",{className:"input-group-prepend w-30"},n.a.createElement("div",{className:"input-group-text w-100"},"Description")),n.a.createElement("input",{type:"text",className:"form-control w-70 "+l.descriptionProp,id:"inlineFormInputGroupDescription",placeholder:"Description",onChange:function(e){return p(Object(X.a)(Object(X.a)({},u),{},{description:e.target.value}))},onClick:function(){return i(Object(X.a)(Object(X.a)({},l),{},{descriptionProp:"",messageString:""}))},value:u.description}))),n.a.createElement("button",{type:"submit",className:"btn btn-primary rounded shadow-sm mt-4 mb-3"},"Add Topic")))},Z=function(e){var t=e.subject,a=e.addRemove;return n.a.createElement("div",{className:"w-75 d-flex flex-row"},n.a.createElement("div",{className:"w-20 border-grey mb-1 mr-2 background-grad darkblue text-palatino text-11 text-white font-weight-bold letter-s1 text-capitalcase text-center pt-1"},t.name),t.subjects?t.subjects.map((function(e){return n.a.createElement("button",{type:"button",key:e.id,className:"course btn btn-outline-secondary mr1 mb-1 w-25 border-grey text-11 text-high-tower font-weight-light letter-s1 text-uppercase","data-toggle":"button","aria-pressed":"false",value:e.id,onClick:function(){return function(e,t){var r={description:t.name+" "+e,id:t.id};a(r)}(t.name,e)}},e.name)})):n.a.createElement(n.a.Fragment,null))},_=function(e){var t=e.heading,a=e.message,r=e.success,s=function(){return r?"text-success":"text-danger"};return n.a.createElement("section",{className:"w-75 d-flex flex-row"},n.a.createElement("h2",{className:"text-high-tower p-0 m-0 "+s()},t," : "),n.a.createElement("h4",{className:"font-weight-bold text-high-tower align-self-center pt-2 ml-3 m-0 "+s()},a))},$=function(){var e=Object(r.useState)({termData:[],gradeData:[],courseData:[]}),t=Object(P.a)(e,2),a=t[0],s=t[1],c=Object(r.useState)(!1),o=Object(P.a)(c,2),l=o[0],i=o[1],d=Object(r.useState)({heading:"",message:"",success:"",value:!1}),m=Object(P.a)(d,2),u=m[0],p=m[1],g=Object(r.useRef)({termResponse:[],gradeResponse:[],courseResponse:[]}),b=function(e){if(p({heading:"",message:"",success:"",value:!1}),g.current.termResponse.findIndex((function(t){return t.id===e.id}))>-1)h(e);else{var t=[].concat(Object(V.a)(g.current.termResponse),[e]);g.current=Object(X.a)(Object(X.a)({},g.current),{},{termResponse:t})}},f=function(e){if(p({heading:"",message:"",success:"",value:!1}),g.current.courseResponse.findIndex((function(t){return t.id===e.id}))>-1)w(e);else{var t=[].concat(Object(V.a)(g.current.courseResponse),[e]);g.current=Object(X.a)(Object(X.a)({},g.current),{},{courseResponse:t})}},h=function(e){var t=g.current.termResponse.filter((function(t){return t.id!==e.id}));g.current=Object(X.a)(Object(X.a)({},g.current),{},{termResponse:t})},x=function(e){var t=g.current.gradeResponse.filter((function(t){return t.id!==e.id}));g.current=Object(X.a)(Object(X.a)({},g.current),{},{gradeResponse:t})},w=function(e){var t=g.current.courseResponse.filter((function(t){return t.id!==e.id}));g.current=Object(X.a)(Object(X.a)({},g.current),{},{courseResponse:t})},E=function(e){return e.current?(g.current.termResponse.findIndex((function(t){return t.id===e.id}))<0&&b(e),"term btn btn-outline-secondary wp-60 rounded-10 mr-2 shadow-lg large-text text-helvetica font-weight-bolder active"):"term btn btn-outline-secondary wp-60 rounded-10 mr-2 shadow-lg large-text text-helvetica font-weight-bolder"},v=function(){var e=Object(k.a)(y.a.mark((function e(){var t,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Call server called"),e.next=3,fetch(sessionStorage.getItem("proxy")+"/tsh/topicmanager/getTopicData",{method:"GET",headers:{Authorization:"Bearer "+sessionStorage.getItem("jwt"),"Content-Type":"application/json"}});case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,s({termData:a.terms,gradeData:a.grades,courseData:a.course});case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(k.a)(y.a.mark((function e(){var t,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=g.current,e.next=3,fetch(sessionStorage.getItem("proxy")+"/tsh/topicmanager/submit",{method:"POST",headers:{Authorization:"Bearer "+sessionStorage.getItem("jwt"),"Content-Type":"application/json"},body:JSON.stringify(t)});case 3:return a=e.sent,e.next=6,a.status;case 6:200!==e.sent?p({heading:"Server Error",message:"Internal Server Error. Topics could not be generated. Try again later...",success:!1,value:!0}):(console.log(a.json()),p({heading:"Success",message:"All Topics were generated successfully.  Go to UPDAE TOPIC section to validate.",success:!0,value:!0}));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){v()}),[l]),n.a.createElement("section",{className:"w-100 pl-3 d-flex flex-column"},n.a.createElement("div",{className:"w-100 d-flex flex-row"},n.a.createElement("h3",{className:"font-weight-bolder text-Palatino text-lightgrey3 mr-3"},"Select Term :"," ")," ",a.termData?a.termData.map((function(e){return n.a.createElement("button",{type:"button",key:e.term,className:""+E(e),"data-toggle":"button","aria-pressed":"false",onClick:function(){return b(e)}},e.term)})):n.a.createElement(n.a.Fragment,null),n.a.createElement("h3",{className:"font-weight-bolder text-Palatino text-lightgrey3 ml-5 mr-3"},"Select Grade :"," ")," ",n.a.createElement("div",{className:"wp-300"},a.gradeData?a.gradeData.map((function(e){return n.a.createElement("button",{type:"button",key:e.grade,className:"term btn btn-secondary wp-50 hp-30  p-0 mr1 mb05 text-helvetica font-weight-bold","data-toggle":"button","aria-pressed":"false",onClick:function(){return function(e){if(p({heading:"",message:"",success:"",value:!1}),g.current.gradeResponse.findIndex((function(t){return t.id===e.id}))>-1)x(e);else{var t=[].concat(Object(V.a)(g.current.gradeResponse),[e]);g.current=Object(X.a)(Object(X.a)({},g.current),{},{gradeResponse:t})}}(e)}},e.grade)})):n.a.createElement(n.a.Fragment,null))),n.a.createElement("div",{className:"mt-4 mb-0 d-flex flex-row w-100"},!0===u.value?n.a.createElement(_,{heading:u.heading,message:u.message,success:u.success}):n.a.createElement(n.a.Fragment,null)),n.a.createElement("div",{className:"w-100 d-flex flex-column"},n.a.createElement("h3",{className:"font-weight-bolder text-Palatino text-lightgrey3 mt-5 "},"Select Subject :"," ")," ",a.courseData?a.courseData.map((function(e){return n.a.createElement(Z,{key:e.name,subject:e,addRemove:f})})):n.a.createElement(n.a.Fragment,null)),n.a.createElement("div",{className:"w-75 mt-3 mb-3 d-flex flex-row justify-content-center"},n.a.createElement("button",{type:"button",className:"btn btn-primary mr-4",onClick:function(){return function(){var e="",t="",a=!1,r=!1;0===g.current.termResponse.length?(e="Validation Error",t="No Term Selected. Please select a Term.",a=!1,r=!0):0===g.current.gradeResponse.length?(e="Validation Error",t="No Grade Selected. Please select a Grade.",a=!1,r=!0):0===g.current.courseResponse.length&&(e="Validation Error",t="No Course Selected. Please select a Course.",a=!1,r=!0),!0===r?p({heading:e,message:t,success:a,value:r}):N()}()}},"Generate Topics"),n.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:function(){return s({termData:[],gradeData:[],courseData:[]}),p({heading:"",message:"",success:"",value:!1}),g.current={termResponse:[],gradeResponse:[],courseResponse:[]},void i(!l)}},"Reset")))},ee=function(){return n.a.createElement("div",null,n.a.createElement("h2",{className:"text-danger"}," Topic Planner Coming Soon ...")," ")},te=a(132),ae=a.n(te),re=a(135),ne=a.n(re),se=a(39),ce=a.n(se),oe=function(){var e=Object(r.useState)({termData:[],gradeData:[],courseData:[]}),t=Object(P.a)(e,2),a=t[0],s=t[1],c=Object(r.useState)(!1),o=Object(P.a)(c,2),l=o[0],i=(o[1],Object(r.useState)([])),d=Object(P.a)(i,2),m=d[0],u=d[1],p=Object(r.useState)(!1),g=Object(P.a)(p,2),b=g[0],f=g[1],h=Object(r.useState)({heading:"",message:"",success:"",value:!1}),x=Object(P.a)(h,2),w=x[0],E=(x[1],Object(r.useState)([])),v=Object(P.a)(E,2),N=v[0],j=v[1],S=Object(r.useRef)({termS:[],gradeS:[],subjectS:[],categoryS:[]}),O=function(e,t){if(f(!1),"false"===t.target.value)t.target.value="true",S.current.subjectS.push(e);else{t.target.value="false";var a=S.current.subjectS.filter((function(t){if(t!==e)return t}));S.current.subjectS=Object(V.a)(a)}A()},C=function(){var e=Object(k.a)(y.a.mark((function e(){var t,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(sessionStorage.getItem("proxy")+"/tsh/topicmanager/getTopicData",{method:"GET",headers:{Authorization:"Bearer "+sessionStorage.getItem("jwt"),"Content-Type":"application/json"}});case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,s({termData:a.terms,gradeData:a.grades,courseData:a.course});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(k.a)(y.a.mark((function e(){var t,r,n,s;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a.termData.length>0)){e.next=13;break}return e.next=3,fetch(sessionStorage.getItem("proxy")+"/tsh/topicmanager/getAllTopics",{method:"GET",headers:{Authorization:"Bearer "+sessionStorage.getItem("jwt"),"Content-Type":"application/json"}});case 3:return t=e.sent,e.next=6,t.json();case 6:r=e.sent,u(r),n=a.termData.filter((function(e){return!0===e.current})),S.current.termS.push(n[0].term),s=r.filter((function(e){if(S.current.termS.indexOf(parseInt(e.term))>-1)return e})),j(s),f(!0);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(e){return e.current?"term btn btn-outline-secondary wp-60 rounded-10 mr-2 shadow-lg large-text text-helvetica font-weight-bolder active":"term btn btn-outline-secondary wp-60 rounded-10 mr-2 shadow-lg large-text text-helvetica font-weight-bolder"},A=function(){var e=m.filter((function(e){return S.current.termS.indexOf(parseInt(e.term))>-1}));S.current.gradeS.length>0&&(e=e.filter((function(e){return S.current.gradeS.indexOf(parseInt(e.grade))>-1})));var t=[];S.current.subjectS.length>0?S.current.subjectS.map((function(e){t.push(e),S.current.categoryS.map((function(a){t.push(e+" "+a)}))})):S.current.categoryS.map((function(e){t.push("English "+e),t.push("Maths "+e),t.push("GA "+e)})),t.length>0&&(e=e.filter((function(e){return t.indexOf(e.course)>-1}))),j(e),f(!0)};Object(r.useEffect)((function(){C()}),[l]),Object(r.useEffect)((function(){T()}),[a]);var D=[{dataField:"grade",text:"Grade",headerStyle:{background:"grey",color:"white",width:"90px"},style:{textAlign:"center",fontFamily:"Verdena",fontSize:13},headerAlign:"center",editor:{type:se.Type.SELECT,text:"Change Grade",options:[{value:"3",label:"3"},{value:"4",label:"4"},{value:"5",label:"5"},{value:"6",label:"6"},{value:"7",label:"7"},{value:"8",label:"8"},{value:"9",label:"9"},{value:"10",label:"10"},{value:"11",label:"11"},{value:"12",label:"12"}]}},{dataField:"course",text:"Course",headerStyle:{background:"grey",color:"white",width:"130px"},style:{textAlign:"center",fontFamily:"Verdena",fontSize:13},headerAlign:"center",editor:{type:se.Type.SELECT,text:"Change Course",options:[{value:"English",label:"English"},{value:"English S",label:"English S"},{value:"English A",label:"English A"},{value:"English B",label:"English B"},{value:"English E",label:"English E"},{value:"Maths",label:"Maths"},{value:"Maths S",label:"Maths S"},{value:"Maths A",label:"Maths A"},{value:"Maths B",label:"Maths B"},{value:"Maths E",label:"Maths E"},{value:"GA",label:"GA"},{value:"GA S",label:"GA S"},{value:"GA A",label:"GA A"},{value:"GA B",label:"GA B"},{value:"GA E",label:"GA E"}]}},{dataField:"term",text:"Term",headerStyle:{background:"grey",color:"white",width:"80px"},style:{textAlign:"center",fontFamily:"Verdena",fontSize:13},headerAlign:"center",editor:{type:se.Type.SELECT,text:"Change Term",options:[{value:"1",label:"1"},{value:"2",label:"2"},{value:"3",label:"3"},{value:"4",label:"4"}]}},{dataField:"week",text:"Week",headerStyle:{background:"grey",color:"white",width:"90px"},style:{textAlign:"center",fontFamily:"Verdena",fontSize:13},headerAlign:"center",editor:{type:se.Type.SELECT,text:"Change Week",options:[{value:"1",label:"1"},{value:"2",label:"2"},{value:"3",label:"3"},{value:"4",label:"4"},{value:"5",label:"5"},{value:"6",label:"6"},{value:"7",label:"7"},{value:"8",label:"8"},{value:"9",label:"9"},{value:"10",label:"10"}]}},{dataField:"description",text:"Description",headerStyle:{background:"grey",color:"white"},style:{textAlign:"left",fontFamily:"Verdena",fontSize:13},headerAlign:"center"},{dataField:"chapter",text:"Chapter",headerStyle:{background:"grey",color:"white"},style:{textAlign:"left",fontFamily:"Verdena",fontSize:13},headerAlign:"center"},{dataField:"topicName",text:"Topic Name",headerStyle:{background:"grey",color:"white"},style:{textAlign:"left",fontFamily:"Verdena",fontSize:13},headerAlign:"center"},{dataField:"active",text:"Is Active?",headerStyle:{background:"grey",color:"white",width:"100px"},style:{textAlign:"center",fontFamily:"Verdena",fontSize:13},headerAlign:"center",editor:{type:se.Type.SELECT,text:"Change Week",options:[{value:"Y",label:"Yes"},{value:"N",label:"No"}]}}],I=function(){var e=Object(k.a)(y.a.mark((function e(t){var a,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(sessionStorage.getItem("proxy")+"/tsh/topicmanager/update",{method:"POST",headers:{Authorization:"Bearer "+sessionStorage.getItem("jwt"),"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return a=e.sent,e.next=5,a.status;case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(k.a)(y.a.mark((function e(t,a,r,n,s){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return!0===window.confirm("Do you really want to change the value of this field?")?s():s(!1),e.abrupt("return",{async:!0});case 3:case"end":return e.stop()}}),e)})));return function(t,a,r,n,s){return e.apply(this,arguments)}}(),B=ce()({mode:"dbclick",beforeSaveCell:M,afterSaveCell:function(e,t,a,r){I(a)}});return n.a.createElement("section",{className:"w-100 pl-3 d-flex flex-column"},n.a.createElement("div",{className:"w-100 d-flex flex-row"},n.a.createElement("h3",{className:"font-weight-bolder text-Palatino text-lightgrey3 mr-3"},"Term :"," ")," ",a.termData?a.termData.map((function(e){return n.a.createElement("button",{type:"button",key:e.term,className:""+F(e),"data-toggle":"button","aria-pressed":"false",value:e.current,onClick:function(t){return function(e,t){if(f(!1),"false"===t.target.value)t.target.value="true",S.current.termS.push(e.term);else{t.target.value="false";var a=S.current.termS.filter((function(t){if(t!==e.term)return t}));S.current.termS=Object(V.a)(a)}A()}(e,t)}},e.term)})):n.a.createElement(n.a.Fragment,null),n.a.createElement("h3",{className:"font-weight-bolder text-Palatino text-lightgrey3 ml-3 mr-3"},"Grade :"," ")," ",n.a.createElement("div",{className:"wp-300"},a.gradeData?a.gradeData.map((function(e){return n.a.createElement("button",{type:"button",key:e.grade,className:"term btn btn-secondary wp-50 hp-30  p-0 mr1 mb05 text-helvetica font-weight-bold","data-toggle":"button","aria-pressed":"false",value:"false",onClick:function(t){return function(e,t){if(f(!1),"false"===t.target.value)t.target.value="true",S.current.gradeS.push(e.grade);else{t.target.value="false";var a=S.current.gradeS.filter((function(t){if(t!==e.grade)return t}));S.current.gradeS=Object(V.a)(a)}A()}(e,t)}},e.grade)})):n.a.createElement(n.a.Fragment,null)),n.a.createElement("h3",{className:"font-weight-bolder text-Palatino text-lightgrey3 mr-3"},"Subject :"," ")," ",n.a.createElement("div",{className:"d-flex flex-column"},n.a.createElement("div",{className:"d-flex flex-row wp-300 p-0 m-0"},n.a.createElement("button",{type:"button",key:"English",className:"term btn btn-secondary wp-100 hp-30  p-0 mr1 mb05 text-helvetica font-weight-bold","data-toggle":"button","aria-pressed":"false",value:"false",onClick:function(e){return O("English",e)}},"English"),n.a.createElement("button",{type:"button",key:"Maths",className:"term btn btn-secondary wp-100 hp-30  p-0 mr1 mb05 text-helvetica font-weight-bold","data-toggle":"button","aria-pressed":"false",value:"false",onClick:function(e){return O("Maths",e)}},"Maths"),n.a.createElement("button",{type:"button",key:"GA",className:"term btn btn-secondary wp-100 hp-30  p-0 mr1 mb05 text-helvetica font-weight-bold","data-toggle":"button","aria-pressed":"false",value:"false",onClick:function(e){return O("GA",e)}},"General Ability")),n.a.createElement("div",{className:"d-flex flex-row"},a.courseData?a.courseData.filter((function(e){return"Std"!==e.shortDesc})).map((function(e){return n.a.createElement("button",{type:"button",key:e.shortDesc,className:"term btn btn-secondary wp-75 hp-30  p-0 mr1 mb05 text-helvetica font-weight-bold","data-toggle":"button","aria-pressed":"false",value:"false",onClick:function(t){return function(e,t){if(f(!1),"false"===t.target.value)t.target.value="true",S.current.categoryS.push(e);else{t.target.value="false";var a=S.current.categoryS.filter((function(t){if(t!==e)return t}));S.current.categoryS=Object(V.a)(a)}A()}(e.shortDesc,t)}},e.shortDesc)})):n.a.createElement(n.a.Fragment,null)))),n.a.createElement("div",{className:"mt-4 mb-0 d-flex flex-row w-100"},!0===w.value?n.a.createElement(_,{heading:w.heading,message:w.message,success:w.success}):n.a.createElement(n.a.Fragment,null)),n.a.createElement("div",{className:"w-95"},b?n.a.createElement(ae.a,{keyField:"id",data:N,columns:D,pagination:ne()({showTotal:!0}),cellEdit:B}):n.a.createElement(J,null)))},le=function(){var e=Object(r.useState)([]),t=Object(P.a)(e,2),a=t[0],s=t[1],c=Object(r.useState)({model:"",description:""}),o=Object(P.a)(c,2),l=o[0],i=o[1],d=function(){var e=Object(k.a)(y.a.mark((function e(){var t,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(sessionStorage.getItem("proxy")+"/tsh/login/getPageFeatures/TopicManagement",{method:"GET",headers:{Authorization:"Bearer "+sessionStorage.getItem("jwt"),"Content-Type":"application/json"}});case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,i({model:a[0].name,description:a[0].description}),s(a);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){d()}),[]),n.a.createElement("div",{className:"w-100 border-grey d-flex flex-column justify-content-center align-content-center"},n.a.createElement("p",{className:"text-high-tower font-style-bold text-lightgrey3 text-32 mt-3 mb-0 p-0 align-self-center"},"Topic Management"),n.a.createElement("p",{className:"text-high-tower font-style-bold text-lightgrey3 mt-0 p-0 align-self-center d-flex flex-row"},n.a.createElement("p",{className:"text-danger font-weight-bold"},"--- \xa0"),l.model,n.a.createElement("p",{className:"text-danger font-weight-bold"},"\xa0 ---")),n.a.createElement("div",{className:"text-verdena text-dark text-10 font-weight-bold"},n.a.createElement("ul",{className:"nav nav-tabs"},a?a.map((function(e){return n.a.createElement("li",{className:"nav-item cur-pointer "},n.a.createElement("a",{className:l.description===e.description?"text-uppercase nav-link active":"text-uppercase nav-link",onClick:function(){return i({model:e.name,description:e.description})},title:e.title},e.name))})):n.a.createElement(n.a.Fragment,null))),n.a.createElement("div",{className:"text-dark d-flex flex-row pt-3"},"generate"===l.description&&n.a.createElement($,null),"update"===l.description&&n.a.createElement(oe,null),"planner"===l.description&&n.a.createElement(ee,null),"create"===l.description&&n.a.createElement(Q,null)))},ie=function(e){var t=e.heading,a=e.subHeading,r=e.msg,s=e.btnText,c=e.url;return n.a.createElement("div",{className:"card w-22 rounded-10 mt-3 ml-3"},n.a.createElement("h3",{className:"card-header"},t),n.a.createElement("div",{className:"card-body"},n.a.createElement("h4",{className:"card-title"},a),n.a.createElement("p",{className:"card-text text-Georgia text-13"},r),n.a.createElement(f.b,{to:"/Management/"+c,className:"btn btn-primary"},s)))},de=function(){return n.a.createElement("div",{className:"w-100 border-grey d-flex flex-column justify-content-center align-content-center"},n.a.createElement("p",{className:"text-high-tower font-style-bold text-lightgrey3 text-32 mt-3 mb-0 p-0 align-self-center"},"Management Tasks"),n.a.createElement("div",{className:"d-flex flex-row flex-wrap w-75  mt-3 mb-5 text-Palatino justify-content-center text-dark align-self-center"},n.a.createElement(ie,{heading:"Outlook",subHeading:"Import from Outlook",msg:"Import Students, Batches and Schedules of entire week from Outlook",btnText:"Initiate Import",url:"Outlook"}),n.a.createElement(ie,{heading:"Data Import",subHeading:"Import Result",msg:"View import statistics of previous data import ",btnText:"Generate Report",url:"Import/Result"})))},me=(a(220),function(e){Object(i.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this,e)).state={fileselect:"Select a file to upload",fileToRead:null,isReading:!1,postUrl:e.url,command:e.command},r}return Object(l.a)(a,[{key:"onChange",value:function(e){var t=e.target.files;t.length>0&&this.setState({fileselect:t[0].name,fileToRead:t[0]})}},{key:"onClick",value:function(e){var t=this;if(this.state.fileToRead){console.log("Reading file",this.state.fileToRead);var a=new FileReader;a.readAsDataURL(this.state.fileToRead),a.onload=function(e){console.log("File loaded");var a=new FormData;a.append("file",t.state.fileToRead),a.append("command",t.state.command);var r=fetch(sessionStorage.getItem("proxy")+t.state.postUrl,{method:"POST",header:{"Content-Type":"multipart/form-data"},body:a});console.log(r)}}}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"file-upload-main-container mt-5"},n.a.createElement("div",{className:"custom-file"},n.a.createElement("input",{type:"file",className:"custom-file-input",id:"customFile",onChange:function(t){return e.onChange(t)}}),n.a.createElement("label",{className:"custom-file-label",for:"customFile"},this.state.fileselect)),n.a.createElement("button",{className:"btn-info w-25 m-3 align-self-center rounded-lg shadow-sm",onClick:function(t){return e.onClick(t)}},"Upload"))}}]),a}(r.Component)),ue=function(e){var t=e.batch;return n.a.createElement("div",{className:"w-16 h-170 p-0 mb-4 mt-2 ml-4 d-flex flex-column justify-content-between shadow-sm rounded border-grey",style:{background:t.cancelled?"grey":t.bgColor}},n.a.createElement("div",{className:"d-flex flex-column p-0 m-0 w-100 background-grey-plus3 text-dark shadow-lg rounded bottom-border-grey"},n.a.createElement("p",{className:"text-white text-Palatino font-weight-bold text-14 letter-s2 align-self-center p-0 pr-1 m-0"},t.startTime)),n.a.createElement("div",{className:"d-flex flex-column flex-grow-1 justify-content-start text-center",style:{color:t.cancelled?"black":t.fontColor}},n.a.createElement("div",{className:"d-flex flex-row justify-content-between bottom-border-grey w-100 pb-0 align-self-start"},n.a.createElement("div",{className:"text-center pl-2"},n.a.createElement("p",{className:"pt-1 text-10 text-verdena font-weight-bold pt-1 pb-0 mb-0"},"Room #"),n.a.createElement("p",{className:"letter-s1 text-Capitalize text-12 text-verdena p-0 m-0 pb-0 pt-0 mb-0"},"0")),n.a.createElement("div",{className:"flex-grow-1 pr-3 text-center"},n.a.createElement("p",{className:"pt-1 text-11 text-georgia font-weight-bold pb-0 mb-0"},t.course),n.a.createElement("p",{className:"letter-s1 text-Capitalize text-10 text-georgia pb-0 mb-0"},t.teacher.teacherName)),n.a.createElement("div",{className:"text-25 text-Palatino font-weight-bold mr-2 mt-0 p-0"},n.a.createElement("p",{className:"p-0 m-0 "},t.grade))),n.a.createElement("div",{className:"w-100 pb-2 pt-2 d-flex flex-column flex-grow-1 justify-content-around align-items-start"},t.studentList?t.studentList.map((function(e){return n.a.createElement("span",{key:e.id,className:"p-0 m-0 ml-2 text-11 text-georgia text-uppercase letter-s1"},n.a.createElement("input",{type:"checkbox",className:"mr-2"}),e.name)})):n.a.createElement(n.a.Fragment,null),t.cancelled?n.a.createElement("span",{className:"w-100 p-0 text-14 text-georgia text-uppercase align-self-center bg-danger text-white letter-s3"},"CANCELLED"):n.a.createElement(n.a.Fragment,null))),n.a.createElement("div",{className:"w-100 d-flex flex-row align-self-end text-dark justify-content-between text-center pt-1 pl-3 pr-3 pb-1 background-grey rounded"},n.a.createElement("i",{className:"text-11 cur-pointer align-self-center p-0 glyphicon glyphicon-remove-circle",title:"Cancel this batch for today"}),n.a.createElement("i",{className:"text-11 cur-pointer align-self-center p-0 glyphicon glyphicon-transfer",title:"Mark a student absent"}),n.a.createElement("i",{className:"text-11 cur-pointer align-self-center p-0 glyphicon glyphicon-refresh",title:"Reschedule this batch to another time"}),n.a.createElement("i",{className:"text-11 cur-pointer align-self-center p-0 glyphicon glyphicon-random",title:"Change Teacher for today"}),n.a.createElement("i",{className:"text-11 cur-pointer align-self-center p-0 glyphicon glyphicon-plus",title:"Assign a classroom"})))},pe=function(){return n.a.createElement("div",{className:"w-100 border-grey d-flex flex-column justify-content-center align-content-center"},n.a.createElement("p",{className:"text-high-tower font-style-bold text-lightgrey3 text-32 mt-3 mb-0 p-0 align-self-center"},"Batch Management"),n.a.createElement("p",{className:"text-high-tower font-style-bold text-lightgrey3 mt-0 p-0 align-self-center d-flex flex-row"},n.a.createElement("p",{className:"text-danger font-weight-bold"},"--- \xa0"),"Excel",n.a.createElement("p",{className:"text-danger font-weight-bold"},"\xa0 ---")),n.a.createElement("div",{className:"w-100 text-dark"},n.a.createElement(ue,null)),n.a.createElement("div",{className:"w-75 align-self-center"},n.a.createElement(f.b,{to:"/BatchPlanner",className:"btn btn-info mb-2"},"Go Back")))},ge=function(){var e=Object(r.useState)(new Date),t=Object(P.a)(e,2),a=t[0],s=t[1],c=Object(r.useState)([]),o=Object(P.a)(c,2),l=o[0],i=o[1],d=Object(r.useState)(""),m=Object(P.a)(d,2),u=m[0],p=m[1],g=function(){return a.getDate()+"-"+(a.getMonth()+1)+"-"+a.getFullYear()},b=function(){var e=Object(k.a)(y.a.mark((function e(){var t,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(sessionStorage.getItem("proxy")+"/tsh/dashboard/getBatchDetails/"+g(),{method:"GET",headers:{Authorization:"Bearer "+sessionStorage.getItem("jwt"),"Content-Type":"application/json"}});case 2:if(202!=(t=e.sent).status){e.next=11;break}return e.next=6,t.json();case 6:a=e.sent,i(a),p(""),e.next=12;break;case 11:204==t.status?(p("No Batches found for this Date"),i([])):(p("Internal Server Error !! Try Again Later..."),i([]));case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){b()}),[a.getDate()]);return n.a.createElement("div",{className:"w-100 border-grey d-flex flex-column justify-content-center align-content-center z-4"},n.a.createElement("p",{className:"text-high-tower font-style-bold text-lightgrey3 text-32 mt-3 mb-0 p-0 align-self-center "},"Dashboard"),n.a.createElement("div",{className:"w-95 m-0 mb-1 pl-4 d-flex flex-row "},n.a.createElement("button",{type:"button",className:"btn btn-sm btn-outline-secondary mr-3",title:"View today's batch schedule",onClick:function(){return s(new Date)}},"Today"),n.a.createElement("button",{type:"button",className:"btn btn-sm btn-outline-secondary mr-3",title:"Previous Day",onClick:function(){return function(){var e=new Date;a.setDate(a.getDate()-1),e.setDate(a.getDate()),e.setMonth(a.getMonth()),e.setFullYear(a.getFullYear()),s(e)}()}},"<"),n.a.createElement("button",{type:"button",className:"btn btn-sm btn-outline-secondary mr-3",title:"Next Day",onClick:function(){return function(){var e=new Date;a.setDate(a.getDate()+1),e.setDate(a.getDate()),e.setMonth(a.getMonth()),e.setFullYear(a.getFullYear()),s(e)}()}},">"),n.a.createElement("label",{className:"text-14 font-weight-bold text-verdena text-dark  pt-1"},function(){var e=new Array(7);return e[0]="Sunday",e[1]="Monday",e[2]="Tuesday",e[3]="Wednesday",e[4]="Thursday",e[5]="Friday",e[6]="Saturday",e[a.getDay()]+", "+g()+", "+a.toLocaleTimeString()}())),""==u?n.a.createElement("section",{className:"d-flex flex-row flex-wrap justify-content-center border-t-025 pt-3 mb-3"},l&&l.length>0?l.map((function(e){return n.a.createElement(ue,{key:e.batchDetailId,batch:e})})):n.a.createElement(n.a.Fragment,null)):n.a.createElement("section",{className:"d-flex flex-row flex-wrap justify-content-center border-t-025 pt-3 mb-3"},n.a.createElement("div",{className:"alert alert-info w-100",role:"alert"},n.a.createElement("h4",{className:"alert-heading"},u))))},be=function(){return n.a.createElement("div",{className:"w-100 border-grey d-flex flex-column justify-content-center align-content-center"},n.a.createElement("p",{className:"text-high-tower font-style-bold text-lightgrey3 text-32 mt-3 mb-0 p-0 align-self-center"},"Batch Management"),n.a.createElement("p",{className:"text-high-tower font-style-bold text-lightgrey3 mt-0 p-0 align-self-center d-flex flex-row"},n.a.createElement("p",{className:"text-danger font-weight-bold"},"--- \xa0"),"Planner",n.a.createElement("p",{className:"text-danger font-weight-bold"},"\xa0 ---")),n.a.createElement("div",{className:"w-75 align-self-center"},n.a.createElement(f.b,{to:"/BatchPlanner",className:"btn btn-info mb-2"},"Go Back")))},fe=a(138),he=(a(221),a(88)),xe=a.n(he),we=function(e){var t=e.heading,a=e.startAt,r=e.endBy,s=e.setStartDate,c=e.setEndDate;return n.a.createElement("div",{className:"d-flex flex-column text-dark w-100"},n.a.createElement("h3",{className:"text-high-tower align-self-center mb-3"},t),n.a.createElement("div",{className:"ml-2 mt-4 mb-4 pt-0 pb-0 d-flex flex-row justify-content-center"},n.a.createElement("div",{className:"d-flex flex-row"},n.a.createElement("div",{className:"background-grey-plus1 pl-2 pr-2 pt -0 pb-0 mt-0 h-25 text-georgia text-center rounded-left-5"},n.a.createElement("span",{className:"pt-2 pb-0 pl-0 pr-0 mt-0 mb-0 ml-0 mr-0 align-self-center"},"Start Date")),n.a.createElement(xe.a,{selected:a,onChange:function(e){return s(e)},dateFormat:"dd/MM/yyyy",className:"rounded-right-5 border-grey h-25 pl-2"})),n.a.createElement("div",{className:"d-flex flex-row ml-5"},n.a.createElement("div",{className:"background-grey-plus1 pl-2 pr-2 pt -0 pb-0 mt-0 h-25 text-georgia text-center rounded-left-5"},n.a.createElement("span",{className:"pt-2 pb-0 pl-0 pr-0 mt-0 mb-0 ml-0 mr-0 align-self-center"},"End Date")),n.a.createElement(xe.a,{selected:r,onChange:function(e){return c(e)},dateFormat:"dd/MM/yyyy",className:"rounded-right-5 border-grey h-25 pl-2"}))))},ye=function(){var e=Object(r.useState)({psCode:0,percentage:0,statusMessage:"",cycle:0}),t=Object(P.a)(e,2),a=t[0],s=t[1],c=Object(r.useState)(!1),o=Object(P.a)(c,2),l=o[0],i=o[1],d=Object(r.useState)(!1),m=Object(P.a)(d,2),u=m[0],p=m[1],g=Object(r.useState)(new Date),b=Object(P.a)(g,2),h=b[0],x=b[1],w=Object(r.useState)(new Date),E=Object(P.a)(w,2),v=E[0],N=E[1];Object(r.useEffect)((function(){if(0!=l)if(window.confirm("Do you really want to import from Outlook? \nStart Date : "+h.toDateString()+"\nEnd Date :"+v.toDateString())){p(!0);var e=S();console.log("startImport: "+e)}else i(!1)}),[l]),Object(r.useEffect)((function(){0!==a.psCode&&setTimeout((function(){j()}),2e3)}),[a]);var j=function(){var e=Object(k.a)(y.a.mark((function e(){var t,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Status called"),e.next=3,fetch(sessionStorage.getItem("proxy")+"/tsh/process/status",{method:"POST",headers:{Authorization:"Bearer "+sessionStorage.getItem("jwt"),"Content-Type":"application/json"},body:JSON.stringify({processId:a.psCode})});case 3:return t=e.sent,e.next=6,t.status;case 6:return e.sent,e.next=9,t.json();case 9:return r=e.sent,a.percentage<100&&s({psCode:a.psCode,percentage:r.percetCompleted,statusMessage:null===r.stepName?a.statusMessage:r.stepName,cycle:r.controlIdentifier}),e.abrupt("return",r);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(k.a)(y.a.mark((function e(){var t,a,r,n,c,o;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Import called"),t=h.getDate()+"-"+(h.getMonth()+1)+"-"+h.getFullYear(),a=v.getDate()+"-"+(v.getMonth()+1)+"-"+v.getFullYear(),r={fromDate:t,toDate:a},e.next=6,fetch(sessionStorage.getItem("proxy")+"/tsh/process/importFromOutlook",{method:"POST",headers:{Authorization:"Bearer "+sessionStorage.getItem("jwt"),"Content-Type":"application/json"},body:JSON.stringify(r)});case 6:return n=e.sent,e.next=9,n.status;case 9:return c=e.sent,e.next=12,n.json();case 12:return o=e.sent,s({psCode:o.psCode,percentage:o.percetCompleted,statusMessage:o.stepName,cycle:o.controlIdentifier}),e.abrupt("return",c);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){var e=new Date,t=e.getDate();e.setDate(t-6),x(e),N(new Date)}),[]),n.a.createElement("div",{className:"w-100 border-grey d-flex flex-column justify-content-center align-content-center"},n.a.createElement("p",{className:"text-high-tower font-style-bold text-lightgrey3 text-32 mt-3 mb-0 p-0 align-self-center"},"Management"),n.a.createElement("p",{className:"text-high-tower font-style-bold text-lightgrey3 mt-0 p-0 align-self-center d-flex flex-row"},n.a.createElement("p",{className:"text-danger font-weight-bold"},"--- \xa0"),"Import from Outlook",n.a.createElement("p",{className:"text-danger font-weight-bold"},"\xa0 ---")),0==u?n.a.createElement("div",{className:"text-dark align-self-center border w-50 mb-5 shadow-sm"},n.a.createElement(we,{heading:"Select a Date range to import data from Outlook Calendar",startAt:h,endBy:v,setStartDate:x,setEndDate:N}),n.a.createElement("div",{className:"d-flex flex-row justify-content-center mb-4"},n.a.createElement(f.b,{id:"goback",to:"/Management",className:"btn btn-sm btn-danger mr-4"},"Cancel"),n.a.createElement("button",{type:"button",className:"btn btn-sm btn-primary",onClick:function(){return i(!0)}},"Start Import"))):n.a.createElement("div",{className:"w-75 align-self-center h-400px"},n.a.createElement("div",{className:"w-100 align-self-center d-flex flex-column "},n.a.createElement("h3",{className:"text-lightgreyplus text-georgia align-self-center font-weight-bold"}," ","Importing Batch data from outlook"),n.a.createElement("h5",{className:"text-dark text-georgia align-self-center m-0 mt-1"}," ",a.percentage," %"),n.a.createElement(fe.a,{percent:a.percentage,strokeWidth:"6",className:"hp-100 mt-2"}),n.a.createElement("h5",{className:"text-lightgreyplus text-georgia align-self-center font-weight-bold mt-3"}," ",a.statusMessage,"...")),n.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:function(){return j()}},"Refresh")))},ke=(a(292),a(308)),Ee=function(e){var t=e.setEditing,a=e.editTopic,s=Object(r.useState)([]),c=Object(P.a)(s,2),o=c[0],l=c[1],i=Object(r.useState)({}),d=Object(P.a)(i,2),m=(d[0],d[1],function(){var e=Object(k.a)(y.a.mark((function e(t){var a,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(sessionStorage.getItem("proxy")+"/tsh/feedback/category/"+t+"/true",{method:"GET",headers:{Authorization:"Bearer "+sessionStorage.getItem("jwt"),"Content-Type":"application/json"}});case 2:return a=e.sent,e.next=5,a.json();case 5:r=e.sent,l(r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());Object(r.useEffect)((function(){m(a.grade.grade)}),[]);var u=function(e){if(o.length>0){var t=o.filter((function(t){return t.id==e.id})),a=[];t[0].feedbacks.map((function(t){var r=!1;e.feedbacks.map((function(e){e.id==t.id&&(r=!0)})),0==r&&a.push(t)}))}return a},p=function(){var e=Object(k.a)(y.a.mark((function e(){var r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r={studentName:a.providers[0].studentBatch.student.studentName,studentBatchId:a.providers[0].studentBatch.id,feedbacks:a.providers[0].feedbackCategory,teacherId:a.providers[0].teacher?a.providers[0].teacher.id:"",userName:a.providers[0].userTO?a.providers[0].userTO.name:"",topicId:a.id,topicName:a.topicName,topicChapter:a.chapter,topicDescription:a.description,topicProgressId:a.providers[0].topicProgress.id},!window.confirm("Do you want to update all changes to this feedback?")){e.next=6;break}return e.next=4,fetch(sessionStorage.getItem("proxy")+"/tsh/feedback/updateStudentFeedback",{method:"POST",headers:{Authorization:"Bearer "+sessionStorage.getItem("jwt"),"Content-Type":"application/json"},body:JSON.stringify(r)});case 4:e.sent,t({mode:!1,editTopic:a});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return n.a.createElement("div",{className:"d-flex flex-column justify-content-between w-70 w3-animate-bottom"},n.a.createElement(ke.a,{className:"d-flex flex-column justify-content-between w-100 shadow-lg text-dark p-0 m-0 mb-5 w3-animate-bottom ",style:{border:"solid 1px rgb(224, 222, 222)",width:"47%"}},n.a.createElement("section",{className:"d-flex flex-row justify-content-center w=100 background-grey-plus2 border-grey m-0 p-0",style:{border:"solid 1px rgb(224, 222, 222)"}},n.a.createElement("span",{className:"d-flex flex-column w-15 background-grad grey3 p-0 m-0 text-center justify-content-center border-white text-verdena text-12 text-white font-weight-bold"},function(e){var t=new Date(e);return t.getDate()+"-"+(t.getMonth()+1)+"-"+t.getFullYear()}(a.providers[0].feedbackDate)),n.a.createElement("span",{className:"w-75 p-0 m-0 text-center border-white"},n.a.createElement("h4",{className:"text-high-tower"},function(e){var t="";return(t=null===e.topicName?"":e.topicName).length>0&&(t+=" : "),null!==e.description&&(t+=e.description,null!==e.chapter&&t.length>0&&(t+=" | ")),null!==e.chapter&&(t+=e.chapter),t}(a))),n.a.createElement("span",{className:"d-flex flex-column justify-content-center w-15 text-center m-0 p-0 border-white text-verdena text-10 text-white font-weight-bold background-grad grey3"},"G "+a.grade.grade+" "+a.course.shortDescription)),a.providers[0].feedbackCategory.map((function(e){return n.a.createElement("section",{className:"pt-3 pl-2"},n.a.createElement("p",{className:"d-flex flex-row justify-content-between text-georgia text-darkgrey large-text text-uppercase letter-s2 m-0 p-0 pl-3 pr-5"},n.a.createElement("span",null,e.description),n.a.createElement("i",{className:"ml-2 mr-5 pr-5 text-11 cur-pointer text-danger text-secondary glyphicon glyphicon-remove",title:"Delete this Category",onClick:function(){return function(e){var r=Object(X.a)({},a),n=r.providers[0].feedbackCategory.filter((function(t){return t.id!==e.id}));r.providers[0].feedbackCategory=n,t({mode:!0,editTopic:r})}(e)}})),n.a.createElement("div",{className:"w-90 border border-secondary p-0 m-0 mb-3"}),e.feedbacks.map((function(r){return n.a.createElement("p",{className:"m-0 mb-1 p-0 pr-2 "},n.a.createElement("i",{className:"text-secondary glyphicon glyphicon-leaf"}),n.a.createElement("span",{className:"ml-3 text-13 text-georgia"},r.shortDescription+" - "+r.description),n.a.createElement("i",{className:"ml-2 text-11 cur-pointer text-danger text-secondary glyphicon glyphicon-remove",title:"Delete this Feedback",onClick:function(){return function(e,r){var n=e.feedbacks.filter((function(e){return e.id!==r.id}));e.feedbacks=n;var s=Object(X.a)({},a);t({mode:!0,editTopic:s})}(e,r)}}))})),n.a.createElement("p",{className:"m-0 mb-1 mt-2 p-0 pr-2"},n.a.createElement("div",{className:"input-group input-group-sm"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("span",{className:"input-group-text font-weight-bold text-georgia",id:"inputGroup-sizing-sm"},"Teacher's Comment")),n.a.createElement("input",{type:"text",className:"form-control","aria-label":"Small","aria-describedby":"inputGroup-sizing-sm",placeHolder:e.teachersComment,onChange:function(t){return e.teachersComment=t.target.value}}))),n.a.createElement("div",{className:" d-flex flex-column flex-wrap justify-content-start mt-2 pt-2 mr-1"},n.a.createElement("p",{className:"text-secondary text-georgia text-13 font-weight-bold mt-0 mb-0 pt-0 pb-0 align-self-center"},"Add More Feedbacks for ",e.description,":"," "),n.a.createElement("div",{className:"d-flex flex-row w-100 justify-content-center mt-2 "},u(e)?u(e).length>0?u(e).map((function(r){return n.a.createElement("div",{className:"w-22 background-lightgreen border rounded-10 shadow-sm h-25 cur-pointer text-10 text-uppercase text-georgia text-center text-align-center pt-1 ml-2 mr-2",title:"Add this Feedback",onClick:function(){return function(e,r){e.feedbacks.push(r);var n=Object(X.a)({},a);t({mode:!0,editTopic:n})}(e,r)}},r.shortDescription)})):n.a.createElement("p",{className:"text-georgia text-warning font-weight-bold"},"No More feedbacks to add"):n.a.createElement(n.a.Fragment,null))))})),n.a.createElement("div",{className:"d-flex flex-column mt-3 pb-3 w-100 border text-center text-georgia text-darkgrey"},n.a.createElement("h4",{className:"text-primary font-weight-bold"},"Add More Feedback Categories"),n.a.createElement("div",{className:"d-flex flex-row flex-wrap justify-content-center"},o.length>0?o.map((function(e){return function(e){var t=!1;return a.providers[0].feedbackCategory.map((function(a){a.id==e.id&&(t=!0)})),t}(e)?n.a.createElement(n.a.Fragment,null):n.a.createElement("div",{className:"d-flex flex-column justify-content-center text-center mr-3 text-warning align-text-center w-20 h-50 background-blue text-uppercase rounded-5 cur-pointer",onClick:function(){return function(e){var r=Object(X.a)({},a),n=Object(X.a)({},e);n.feedbacks=[],r.providers[0].feedbackCategory.push(n),t({mode:!0,editTopic:r})}(e)}},n.a.createElement("p",{className:"pt-0 pb-0 mt-0 mb-0 "},e.description))})):n.a.createElement("div",{className:"text-center text-dark text-11 font-weight-bold text-georgia w-50 h-40 background-lightgreen text-uppercase mt-3"},"No More Categories to Add")))),n.a.createElement("div",{className:"w-100 d-flex flex-row justify-content-end"},n.a.createElement("button",{className:"btn btn-danger mr-4",onClick:function(){window.confirm("All changes will be lost. Do you still want to cancel editing?")&&t({mode:!1})}},"Cancel"),n.a.createElement("button",{className:"btn btn-primary ",onClick:function(){return p()}},"Save Changes")))},ve=function(e){var t=e.topic,a=!0,r=function(){var e="";return e=!0===a?"rgb(248, 245, 244)":"whte",a=!a,e};return n.a.createElement("div",{style:{border:"1px solid rgb(224, 222, 222)",width:"100%",justifyContent:"center"},id:t.id,hidden:"true"},n.a.createElement("section",{style:{border:"1px solid rgb(224, 222, 222)",align:"center",fontSize:"0",paddingTop:"4px",paddingBottom:"3px",backgroundColor:"rgb(11, 102, 138)",color:"white",textAlign:"center"}},n.a.createElement("span",{style:{fontSize:"16px",fontWeight:"bold"}},"[",function(e){var t=new Date(e);return t.getDate()+"-"+(t.getMonth()+1)+"-"+t.getFullYear()}(t.providers[0].feedbackDate),"] -"," "),n.a.createElement("span",{style:{padding:"0%",fontSize:"20px",fontWeight:"bold"}},function(e){var t="";return(t=null===e.topicName?"":e.topicName).length>0&&(t+=" : "),null!==e.description&&(t+=e.description,null!==e.chapter&&t.length>0&&(t+=" | ")),null!==e.chapter&&(t+=e.chapter),t}(t)," -"," "),n.a.createElement("span",{style:{fontSize:"16px",fontWeight:"bold"}},"G -"+t.grade.grade+" "+t.course.shortDescription)),t.providers[0].feedbackCategory.map((function(e){return n.a.createElement("section",{style:{display:"flex-column",border:"1px solid rgb(224, 222, 222)",background:r(),textAlign:"center",justifyContent:"center"}},n.a.createElement("p",{style:{fontSize:"16px",fontWeight:"bold"}},n.a.createElement("span",null,(t=e.description).toUpperCase(t))),n.a.createElement("hr",{style:{width:"30%"},color:"red"}),e.feedbacks.map((function(e){return n.a.createElement("p",null,n.a.createElement("span",null,e.shortDescription+" - "+e.description))})),n.a.createElement("p",{style:{color:"red"}},"Teacher -"," ",n.a.createElement("span",{style:{color:"black"}},e.teachersComment)));var t})),n.a.createElement("section",{style:{display:"flex-column",border:"1px solid rgb(224, 222, 222)",background:"rgb(248, 245, 244)",textAlign:"center",justifyContent:"center"}},n.a.createElement("p",{style:{fontSize:"12px",fontWeight:"bold"}},n.a.createElement("span",null,"Feedback By:"," ",n.a.createElement("span",{style:{color:"red"}},null==t.providers[0].userTO?t.providers[0].teacher.teacherName:t.providers[0].userTO.name)))))},Ne=function(e){var t=e.topic,a=e.deleteFeedback,r=e.emailFeedback,s=e.editFeedback;return n.a.createElement(ke.a,{className:"d-flex flex-column justify-content-between w-47 shadow text-dark p-0 m-0",style:{border:"solid 1px rgb(224, 222, 222)",width:"47%"}},n.a.createElement("section",{className:"d-flex flex-row justify-content-center w=100 background-grey-plus border-grey m-0 p-0",style:{border:"solid 1px rgb(224, 222, 222)"}},n.a.createElement("span",{className:"d-flex flex-column w-15 background-grad darkblue p-0 m-0 text-center justify-content-center border-white text-verdena text-12 text-white font-weight-bold"},function(e){var t=new Date(e);return t.getDate()+"-"+(t.getMonth()+1)+"-"+t.getFullYear()}(t.providers[0].feedbackDate)),n.a.createElement("span",{className:"w-75 p-0 m-0 text-center border-white"},n.a.createElement("h4",{className:"text-high-tower"},function(e){var t="";return(t=null===e.topicName?"":e.topicName).length>0&&(t+=" : "),null!==e.description&&(t+=e.description,null!==e.chapter&&t.length>0&&(t+=" | ")),null!==e.chapter&&(t+=e.chapter),t}(t))),n.a.createElement("span",{className:"d-flex flex-column justify-content-center w-15 text-center m-0 p-0 border-white text-verdena text-10 text-white font-weight-bold background-grad darkblue"},"G "+t.grade.grade+" "+t.course.shortDescription)),t.providers[0].feedbackCategory.map((function(e){return n.a.createElement("section",{className:"pt-3 pl-2"},n.a.createElement("p",{className:"d-flex flex-row justify-content-between text-georgia text-darkgrey large-text text-uppercase letter-s2 m-0 p-0 pl-3"},n.a.createElement("span",null,e.description)),n.a.createElement("div",{className:"w-90 border border-danger p-0 m-0 mb-3"}),e.feedbacks.map((function(e){return n.a.createElement("p",{className:"m-0 mb-1 p-0 pr-2"},n.a.createElement("i",{className:"text-primary glyphicon glyphicon-leaf"}),n.a.createElement("span",{className:"ml-3 text-13 text-georgia"},e.shortDescription+" - "+e.description))})),n.a.createElement("p",{className:"m-0 mb-1 p-0 pr-2"},n.a.createElement("i",{className:"text-danger glyphicon glyphicon-user font-weight-bold"},"  ","Teacher"),n.a.createElement("span",{className:"ml-3 text-13 text-georgia"},e.teachersComment)))})),n.a.createElement("section",{className:"d-flex flex-row justify-content-between border-t-grey bg-danger text-13 mt-3"},n.a.createElement("div",{className:"w-50 text-white text-left text-11 font-weight-bold pl-3"},null==t.providers[0].updatedBy?null==t.providers[0].userTO?"Feedback by - "+t.providers[0].teacher.teacherName:"Feedback by - "+t.providers[0].userTO.name:"Last updated by - "+t.providers[0].updatedBy.name+" on "+t.providers[0].updatedOn),n.a.createElement("div",{className:"w-50  text-right"},n.a.createElement("i",{className:"glyphicon glyphicon-envelope text-white mr-3 cur-pointer",title:"Email a copy of this Feedback",onClick:function(){return e=t.id,a=t.providers[0].studentBatch.id,void r(document.getElementById(e).outerHTML,a);var e,a}}),n.a.createElement("i",{className:"glyphicon glyphicon-edit text-white mr-3 cur-pointer",title:"Edit this Feedback",onClick:function(){return s(t)}}),n.a.createElement("i",{className:"glyphicon glyphicon-trash text-white mr-3 cur-pointer",title:"Delete this Feedback",onClick:function(){return a(t)}}))),n.a.createElement(ve,{topic:t}))},je=function(e){var t=e.setFilters,a=Object(r.useState)([]),s=Object(P.a)(a,2),c=s[0],o=s[1],l=Object(r.useState)(""),i=Object(P.a)(l,2),d=i[0],m=i[1],u=Object(r.useState)(""),p=Object(P.a)(u,2),g=p[0],b=p[1],f=Object(r.useState)(""),h=Object(P.a)(f,2),x=h[0],w=h[1],E=function(){var e=Object(k.a)(y.a.mark((function e(){var t,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(sessionStorage.getItem("proxy")+"/tsh/Signup/getTeachers",{method:"GET",headers:{Authorization:"Bearer "+sessionStorage.getItem("jwt"),"Content-Type":"application/json"}});case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,o(a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){E();t({})}),[]);var v=!1,N=JSON.parse(sessionStorage.getItem("welcomeKit")).features;return N&&N.some((function(e){return"All Teachers"===e.name}))&&(v=!0),n.a.createElement("form",{className:"w-100"},v?n.a.createElement("div",{className:"d-flex w-100 flex-row shadow  mt-2 mb-1 rounded-10 text-dark"},n.a.createElement("select",{className:"custom-select w-30 h-40 rounded-10 mr-3 medium-text align-self-center",id:"teachers",onChange:function(e){var a=e.target.selectedIndex,r={teacher:e.target[a].text,grade:g,namePattern:x};t(r),m(e.target[a].text)}},n.a.createElement("option",{value:"0"},"Filter By Teacher"),c?c.map((function(e){return n.a.createElement("option",{value:e.id},e.teacherName)})):n.a.createElement(n.a.Fragment,null)),n.a.createElement("select",{className:"custom-select w-30 h-40 rounded-10 mr-2 medium-text align-self-center",id:"grades",onChange:function(e){var a={teacher:d,grade:e.target.value,namePattern:x};t(a),b(e.target.value)}},n.a.createElement("option",{value:"0"},"Filter By Grade"),n.a.createElement("option",{value:"3"},"Year 3"),n.a.createElement("option",{value:"4"},"Year 4"),n.a.createElement("option",{value:"5"},"Year 5"),n.a.createElement("option",{value:"6"},"Year 6"),n.a.createElement("option",{value:"7"},"Year 7"),n.a.createElement("option",{value:"8"},"Year 8"),n.a.createElement("option",{value:"9"},"Year 9"),n.a.createElement("option",{value:"10"},"Year 10"),n.a.createElement("option",{value:"11"},"Year 11"),n.a.createElement("option",{value:"12"},"Year 12")),n.a.createElement("div",{className:"d-flex align-self-center active-cyan-3 active-cyan-4 ml-1 rounded-10 h-40 w-40"},n.a.createElement("input",{className:"form-control rounded-10 h-40 medium-text text-lightgrey",type:"text",placeholder:"Search...","aria-label":"Search",id:"searchBox",onChange:function(e){var a={teacher:d,grade:g,namePattern:e.target.value};t(a),w(e.target.value)}})),n.a.createElement("button",{type:"reset",className:"btn btn-warning h-35px rounded-10 ml-1 medium-text text-darkgrey",onClick:function(){t({teacher:"",grade:"",namePattern:""}),b(""),m(""),w("")}},"Clear Filter")):n.a.createElement("div",null))},Se=function(e){var t=e.heading,a=e.setFilters,s=e.showFilters,c=Object(r.useState)([]),o=Object(P.a)(c,2),l=o[0],i=o[1],d=function(){var e=Object(k.a)(y.a.mark((function e(){var t,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(sessionStorage.getItem("proxy")+"/tsh/login/getPageFeatures/FeedbackManagement",{method:"GET",headers:{Authorization:"Bearer "+sessionStorage.getItem("jwt"),"Content-Type":"application/json"}});case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,i(a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){d()}),[]),n.a.createElement("div",{className:"w-100 d-flex flex-row"},n.a.createElement("div",{className:"d-flex flex-row justify-content-left w-47 text-lightgrey3 text-18 pb-1 pl-3"},l?l.map((function(e){return n.a.createElement(f.b,{className:"pl-2 pr-2 m-0 h-55 align-self-center mr-3 feedback border rounded",title:e.title,to:e.target},n.a.createElement("i",{className:"m-0 mt-0 p-0 align-self-center "+e.style}))})):n.a.createElement(n.a.Fragment,null),"true"==s?n.a.createElement(je,{setFilters:a}):n.a.createElement(n.a.Fragment,null)),n.a.createElement("div",{className:"w-40 d-flex flex-column"},n.a.createElement("p",{className:"text-high-tower font-style-bold text-lightgrey3 text-32 mt-1 mb-0 p-0 pl-2"},t)))},Oe=function(e){var t=e.dataCount,a=e.perPage,s=e.callBack,c=Object(r.useState)({min:1,max:4,page:1,myArr:[]}),o=Object(P.a)(c,2),l=o[0],i=o[1],d=Math.ceil(t/a);Object(r.useEffect)((function(){var e=[],t=1;t=d>4?4:d;for(var a=1;a<=t;a++)e.push(a);i({min:1,max:t,page:1,myArr:e})}),[d]);var m=function(e){var t=l.max,a=l.min,r=l.page;"<"===e&&r>1&&r--,"<<"===e&&(r=1,a=1,t=4),">"===e&&r<d-1&&r++,">>"===e&&(r=d,a=(t=d)-3),e>=1&&e<=d&&(r=e),r===l.min&&(a=(t=r)-3)<1&&(a=1,t=d>=4?4:d),r===l.max&&(t=(a=r)+3)>d&&(t=d,a=d>=4?t-3:1);for(var n=[],c=a;c<=t;c++)n.push(c);i({min:a,max:t,page:r,myArr:n}),s(r)};return n.a.createElement("section",{className:"w-100 d-flex flex-row justify-content-end pr-4 text-dark text-11"},n.a.createElement("button",{type:"button",className:"border-grey pl-1 pr-1 text-center",onClick:function(){return m("<<")}},"<<"),n.a.createElement("button",{type:"button",className:"border-grey pl-1 pr-1 text-center",onClick:function(){return m("<")}},"<"),l.myArr.map((function(e){return n.a.createElement("button",{type:"button",key:e,className:e===l.page?"pagination border-grey pl-1 pr-1 text-center active":"pagination border-grey pl-1 pr-1 text-center",onClick:function(){return m(e)}},e<10?"0"+e:e)})),n.a.createElement("button",{type:"button",className:"border-grey pl-1 pr-1 text-center",onClick:function(){return m(">")}},">"),n.a.createElement("button",{type:"button",className:"border-grey pl-1 pr-1 text-center",onClick:function(){return m(">>")}},">>"),n.a.createElement("span",{className:"ml-2 pt-1 align-center text-center"},"[of ",d+" ","pages]"))},Ce=function(e){var t,a=function(){if(e.iAmActive===e.keyStud)return"active"};return n.a.createElement("ul",{className:"list-group list-group-flush list my--3 text-dark ml-3 pl-1 border-b-grey cur-pointer ",onClick:function(){e.callBack(e.keyStud,e.name)}},n.a.createElement("li",{className:e.disabled?"studList list-group-item background-grey-plus text-lightgrey2 "+a():"studList list-group-item "+a(),tabIndex:"1"},n.a.createElement("div",{className:"row align-items-center "},n.a.createElement("img",{alt:"placeholder",src:(t=e.name,"https://ui-avatars.com/api/?background=random&name="+t),className:"w-15 rounded-25 m-0 p-0"}),n.a.createElement("div",{className:"m-0 p-0 ml-3"},n.a.createElement("h6",{className:"m-0 p-0"},e.name),n.a.createElement("small",{className:"m-0 p-0 text-11"},e.grade)))))},Te=function(){var e=Object(r.useState)({id:"",name:""}),t=Object(P.a)(e,2),a=t[0],s=t[1],c=Object(r.useState)([]),o=Object(P.a)(c,2),l=o[0],i=o[1],d=Object(r.useState)(0),m=Object(P.a)(d,2),u=m[0],p=m[1],g=Object(r.useState)([]),b=Object(P.a)(g,2),f=b[0],h=b[1],x=Object(r.useState)(1),w=Object(P.a)(x,2),E=w[0],v=w[1],N=Object(r.useState)(0),j=Object(P.a)(N,2),S=j[0],O=j[1],C=Object(r.useState)({teacher:"",grade:"",namePattern:""}),T=Object(P.a)(C,2),F=T[0],A=T[1],D=Object(r.useState)({mode:!1,editTopic:{}}),I=Object(P.a)(D,2),M=I[0],B=I[1],G=function(e,t){s({id:e,name:t}),R(e),v(1)};Object(r.useEffect)((function(){L()}),[]);var R=function(){var e=Object(k.a)(y.a.mark((function e(t){var a,r,n,s,c,o,l;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a={id:t},""!=t){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,fetch(sessionStorage.getItem("proxy")+"/tsh/feedback/getSingleStudentFeedback",{method:"POST",headers:{Authorization:"Bearer "+sessionStorage.getItem("jwt"),"Content-Type":"application/json"},body:JSON.stringify(a)});case 5:return r=e.sent,n=[],e.next=9,r.json();case 9:for(n=e.sent,s=[],c=0;c<n.topics.length;c++)for(o=0;o<n.topics[c].providers.length;o++)(l=Object(X.a)({},n.topics[c])).providers=[],l.providers[0]=Object(X.a)({},n.topics[c].providers[o]),s.push(l);p(s.length),h(s);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){0==M.mode&&R(a.id)}),[M]);var L=function(){var e=Object(k.a)(y.a.mark((function e(){var t,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(sessionStorage.getItem("proxy")+"/tsh/student/getStudents",{method:"GET",headers:{Authorization:"Bearer "+sessionStorage.getItem("jwt"),"Content-Type":"application/json"}});case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,i(a),s({id:a[4].id,name:a[4].name}),R(a[4].id);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Object(k.a)(y.a.mark((function e(t){var a,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a={studentBatchId:t.providers[0].studentBatch.id,topicId:t.id,teacherId:t.providers[0].teacher.id,topicProgressId:t.providers[0].topicProgress.id},!window.confirm("Are you sure you want to delete this feedback?")){e.next=9;break}return e.next=4,fetch(sessionStorage.getItem("proxy")+"/tsh/feedback/deleteFeedback",{method:"POST",headers:{Authorization:"Bearer "+sessionStorage.getItem("jwt"),"Content-Type":"application/json"},body:JSON.stringify(a)});case 4:return r=e.sent,e.next=7,r.json();case 7:e.sent,R(t.providers[0].studentBatch.id);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=function(e,t){var a={element:e,studentBatchId:t};window.confirm("Are you sure you want to email this feedback?")&&(fetch(sessionStorage.getItem("proxy")+"/tsh/mail/send",{method:"POST",headers:{Authorization:"Bearer "+sessionStorage.getItem("jwt"),"Content-Type":"application/json"},body:JSON.stringify(a)}),O(!0))},U=function(e){B({mode:!0,editTopic:e})};return n.a.createElement("div",{className:"w-100 border-grey d-flex flex-column justify-content-center align-content-center"},n.a.createElement(Se,{heading:M.mode?"Edit Feedback of "+a.name:""===a.name?"Feedback Management":"Feedback Of "+a.name,setFilters:function(e){A(e)},showFilters:"true"}),n.a.createElement("div",{className:"d-flex flex-row w-100 border"},n.a.createElement("div",{className:"w-20 "},n.a.createElement("div",{className:"text-high-tower text-uppercase letter-s1 text-center large-text  w-95 background-grad darkblue text-white  ml-3 rounded"},"Student List"),n.a.createElement("div",{className:M.mode?"w-100 scroll  disabled ":"w-100 scroll"},l.length>0?l.map((function(e,t){return function(e,t){var a=!1,r=!1,n=!1;return a="Filter By Teacher"==F.teacher||"Admin"==F.teacher||""==F.teacher||null==F.teacher||e.teacher==F.teacher,r=e.grade+""==F.grade||"0"==F.grade||""==F.grade||null==F.grade,n=null==F.namePattern||""==F.namePattern||!!e.name.toLowerCase().includes(F.namePattern.toLowerCase()),!!(a&&r&&n)}(e)?n.a.createElement(Ce,{iAmActive:a.id,keyStud:e.id,name:e.name,grade:"Grade "+e.grade+" - "+e.course,callBack:G,disabled:M.mode}):n.a.createElement(n.a.Fragment,null)})):n.a.createElement(n.a.Fragment,null))),n.a.createElement("section",{className:"w-72 "},u<1?""===a.id?n.a.createElement(J,null):n.a.createElement("div",{className:"pt-5 mt-5 w-100 text-center"},n.a.createElement("h1",{className:"text-darkgrey mt-5 pt-5 text-palatino"},"No Feedback Found for ",a.name)):M.mode?n.a.createElement("div",{className:"d-flex flex-row flex-wrap justify-content-around  text-dark mb-3"},n.a.createElement(Ee,{setEditing:B,editTopic:M.editTopic})):n.a.createElement("div",{className:"d-flex flex-row flex-wrap justify-content-around  text-dark mb-3"},function(){for(var e=[],t=2*E-2;t<2*E;t++)f.length>=t+1&&e.push(f[t]);return e}().map((function(e){return n.a.createElement(Ne,{topic:e,deleteFeedback:z,emailFeedback:H,editFeedback:U})})),u>0?n.a.createElement(Oe,{dataCount:u,perPage:"2",callBack:v}):n.a.createElement(n.a.Fragment,null)),S?n.a.createElement("div",{className:"alert alert-success w-100",role:"alert",onClick:function(){return O(0)}},n.a.createElement("h4",{className:"alert-heading"},"Feeedback Sent!"),"An Email has been sent to the Parent."):n.a.createElement(n.a.Fragment,null))))},Fe=function(){var e=Object(r.useState)([]),t=Object(P.a)(e,2),a=t[0],s=t[1],c=Object(r.useState)(""),o=Object(P.a)(c,2),l=o[0],i=o[1],d=Object(r.useState)(""),m=Object(P.a)(d,2),u=m[0],p=m[1],g=Object(r.useState)(0),b=Object(P.a)(g,2),f=b[0],h=b[1],x=Object(r.useState)({flag:"",heading:"",message:""}),w=Object(P.a)(x,2),E=w[0],v=w[1],N=function(){var e=Object(k.a)(y.a.mark((function e(){var t,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(sessionStorage.getItem("proxy")+"/tsh/Signup/getTeachers",{method:"GET",headers:{Authorization:"Bearer "+sessionStorage.getItem("jwt"),"Content-Type":"application/json"}});case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,s(a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){N()}),[]);var j=function(){var e=Object(k.a)(y.a.mark((function e(){var t,a,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={name:l,password:u,phone:"",email:"",role:"Teacher1",teacherName:f+""},e.next=3,fetch(sessionStorage.getItem("proxy")+"/tsh/Signup",{method:"POST",headers:{Authorization:"Bearer "+sessionStorage.getItem("jwt"),"Content-Type":"application/json"},body:JSON.stringify(t)});case 3:return a=e.sent,e.next=6,a.json();case 6:return r=e.sent,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(k.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==f){e.next=3;break}return v({flag:"danger",heading:"Error",message:"Please select a Teacher."}),e.abrupt("return");case 3:if(""!==l){e.next=6;break}return v({flag:"danger",heading:"Error",message:"Please enter a valid UserName."}),e.abrupt("return");case 6:if(""!==u){e.next=9;break}return v({flag:"danger",heading:"Error",message:"Please enter a password."}),e.abrupt("return");case 9:return e.next=11,j();case 11:if(1!==(t=e.sent).returnCode){e.next=17;break}return v({flag:"success",heading:"Thank You!!!",message:"Username : "+l+" has been successfully registered"}),e.abrupt("return");case 17:return v({flag:"danger",heading:"Internal Error",message:t.message}),e.abrupt("return");case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return n.a.createElement("div",{className:"w-100 border-grey d-flex flex-column justify-content-center align-content-center"},n.a.createElement("p",{className:"text-high-tower font-style-bold text-lightgrey3 text-32 mt-3 mb-0 p-0 align-self-center"},"Create New User"),""!==E.flag?n.a.createElement("div",{className:"w-100 alert alert-"+E.flag,role:"alert",onClick:function(){v({flag:"",heading:"",message:""})}},n.a.createElement("h4",{className:"alert-heading"},E.heading,"!"),E.message):n.a.createElement(n.a.Fragment,null),n.a.createElement("section",{className:"d-flex flex-row justify-content-center w-100 mt-5 text-dark"},n.a.createElement("form",{className:"form-inline w-75",onSubmit:S},n.a.createElement("select",{className:"custom-select w-25 h-40 rounded-10 mr-3 mb-2 medium-text",onChange:function(e){h(e.target.value)}},n.a.createElement("option",{value:"0",defaultValue:!0},"Select A Teacher"),a?a.map((function(e){return n.a.createElement("option",{key:e.id,value:e.id},e.teacherName)})):n.a.createElement(n.a.Fragment,null)),n.a.createElement("div",{className:"input-group mb-2 mr-sm-2"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("div",{className:"input-group-text"},"UserName")),n.a.createElement("input",{type:"text",className:"form-control",id:"inlineFormInputGroupUsername2",placeholder:"Username",onChange:function(e){return i(e.target.value)}})),n.a.createElement("div",{className:"input-group mb-2 mr-sm-2"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("div",{className:"input-group-text"},"Password")),n.a.createElement("input",{type:"password",className:"form-control",id:"inlineFormInputGroupUsername2",placeholder:"Password",onChange:function(e){return p(e.target.value)}})),n.a.createElement("button",{type:"submit",className:"btn btn-primary mb-2"},"Submit"))))},Ae=function(e){return n.a.createElement("ul",{className:"list-group list-group-flush list my--3 text-dark border-b-grey cur-pointer ",onClick:function(){e.callBack(e.listKey,e.grade)}},n.a.createElement("li",{className:"appList list-group-item "+function(){if(e.iAmActive===e.listKey)return"active"}(),tabIndex:"1"},n.a.createElement("div",{className:"row align-items-center pl-3"},n.a.createElement("i",{className:"text-success glyphicon glyphicon-leaf"}),n.a.createElement("div",{className:"m-0 p-0 ml-3"},n.a.createElement("h6",{className:"m-0 p-0"},e.item),n.a.createElement("small",{className:"m-0 p-0 text-11"},e.description)))))},De=function(e){var t=e.selection,a=e.grade,s=e.refresh,c=e.source,o=Object(r.useState)({descProp:"",descMsg:"Description",shortProp:"",shortMsg:"Order"}),l=Object(P.a)(o,2),i=l[0],d=l[1],m=Object(r.useState)(""),u=Object(P.a)(m,2),p=u[0],g=u[1],b=Object(r.useState)(""),f=Object(P.a)(b,2),h=f[0],x=f[1],w=Object(r.useState)(""),E=Object(P.a)(w,2),v=E[0],N=E[1],j=Object(r.useState)({code:0,msg:""}),S=Object(P.a)(j,2),O=S[0],C=S[1],T=function(){var e=Object(k.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!=p){e.next=5;break}return d({descProp:"background-pink",descMsg:"Description cannot be blank",shortProp:i.orderProp,shortMsg:i.orderMsg}),e.abrupt("return");case 5:d({descProp:"",descMsg:"Description",shortProp:i.orderProp,shortMsg:i.orderMsg});case 6:if(""!=h){e.next=11;break}return d({descProp:"",descMsg:i.descMsg,shortProp:"background-pink",shortMsg:"Short Description cannot be blank"}),e.abrupt("return");case 11:d({descProp:i.descProp,descMsg:i.descMsg,shortProp:"",shortMsg:"short"});case 12:F();case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(k.a)(y.a.mark((function e(){var r,n,s;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r={description:p,active:!0,shortDescription:h,criteria:v,category:""==t.default?t.grade:t.default},n=0==a?"Default Category?":"Grade "+a+"?",window.confirm("Do you want to add "+p+" as a Feedback item for "+n)){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,fetch(sessionStorage.getItem("proxy")+"/tsh/feedback/addFeedback",{method:"POST",headers:{Authorization:"Bearer "+sessionStorage.getItem("jwt"),"Content-Type":"application/json"},body:JSON.stringify(r)});case 7:202===(s=e.sent).status?C({code:1,msg:"Successfully created a new Feedback item : "+p+" for "+n}):C({code:2,msg:"Something went wrong "+s.statusText});case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return n.a.createElement("section",{className:"w-100 d-flex flex-column justify-content-center align-items-center border mt-5 background-grey-plus shadow-lg align-self-center"},n.a.createElement("h3",{className:"text-high-tower mt-1"},"Create New Feedback for "+(""==t.default?"Grade "+a+" - "+t.catName+" category.":"Default - "+t.catName+" category.")),n.a.createElement("form",{className:"form-inline w-100 d-flex flex-row justify-content-start flex-wrap pl-1 pr-2",onSubmit:T},n.a.createElement("div",{className:"input-group mb-2 mr-sm-2 w-50 d-flex justify-content-center flex-nowrap"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("div",{className:"input-group-text"},"Description")),n.a.createElement("input",{type:"text",className:"form-control w-50 "+i.descProp,id:"inlineFormInputGroupDescription",placeholder:i.descMsg,onChange:function(e){return g(e.target.value)},value:p})),n.a.createElement("div",{className:"input-group mb-2 mr-sm-2 w-47 d-flex justify-content-center flex-nowrap"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("div",{className:"input-group-text"},"Short Description")),n.a.createElement("input",{type:"text",className:"form-control w-75 "+i.shortProp,id:"inlineFormInputGroupShort",placeholder:i.shortMsg,onChange:function(e){return x(e.target.value)},value:h})),n.a.createElement("div",{className:"input-group mb-2 mr-sm-2 w-50"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("div",{className:"input-group-text"},"Criteria")),n.a.createElement("input",{type:"text",className:"form-control w-75",id:"inlineFormInputGroupCriteria",placeholder:"Criteria",onChange:function(e){return N(e.target.value)},value:v})),n.a.createElement("button",{type:"submit",className:"btn btn-outline-primary mb-2"},"Add Feedback Item")),0!==O.code?n.a.createElement("div",{className:1===O.code?"alert w-75 alert-success pt-0":"alert w-75 alert-danger",role:"alert",onClick:function(){return C({code:0,msg:""})}},n.a.createElement("h4",{className:"alert-heading"},1===O.code?"Success !!":"!! Error !!"),n.a.createElement("p",null,O.msg),n.a.createElement("button",{type:"button",className:1===O.code?"btn btn-sm btn-success":"btn btn-sm btn-danger",onClick:function(){return C({code:0,msg:""}),g(""),x(""),N(""),void(1==O.code&&s(!0,c))}},"OK")):n.a.createElement(n.a.Fragment,null))},Ie=function(e){var t=e.grade,a=e.refresh,s=e.source,c=Object(r.useState)({descProp:"",descMsg:"Description",orderProp:"",orderMsg:"Order"}),o=Object(P.a)(c,2),l=o[0],i=o[1],d=Object(r.useState)(""),m=Object(P.a)(d,2),u=m[0],p=m[1],g=Object(r.useState)(""),b=Object(P.a)(g,2),f=b[0],h=b[1],x=Object(r.useState)({code:0,msg:""}),w=Object(P.a)(x,2),E=w[0],v=w[1],N=function(){var e=Object(k.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==u){e.next=5;break}return i({descProp:"background-pink",descMsg:"Description cannot be blank",orderProp:l.orderProp,orderMsg:l.orderMsg}),e.abrupt("return");case 5:i({descProp:"border border-success",descMsg:"Description",orderProp:l.orderProp,orderMsg:l.orderMsg});case 6:if(""!==f){e.next=11;break}return i({descProp:l.descProp,descMsg:l.descMsg,orderProp:"background-pink",orderMsg:"Order cannot be blank"}),e.abrupt("return");case 11:i({descProp:l.descProp,descMsg:l.descMsg,orderProp:"",orderMsg:"Order"});case 12:if(!isNaN(f)){e.next=18;break}return h(""),i({descProp:l.descProp,descMsg:l.descMsg,orderProp:"background-pink",orderMsg:"Order should be an Integer"}),e.abrupt("return");case 18:i({descProp:l.descProp,descMsg:l.descMsg,orderProp:"",orderMsg:"Order"});case 19:j();case 20:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=Object(k.a)(y.a.mark((function e(){var a,r,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a={description:u,active:!0,order:f,grade:t},r=0==t?"Default Category?":"Grade "+t+"?",window.confirm("Do you really want to add "+u+" as a Feedback Category for "+r)){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,fetch(sessionStorage.getItem("proxy")+"/tsh/feedback/category/addCategory",{method:"POST",headers:{Authorization:"Bearer "+sessionStorage.getItem("jwt"),"Content-Type":"application/json"},body:JSON.stringify(a)});case 7:202===(n=e.sent).status?v({code:1,msg:"Successfully created a new Feedback Category : "+u+" for "+r}):v({code:2,msg:"Something went wrong "+n.statusText});case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){p(""),h("")}),[t]);return n.a.createElement("section",{className:"w-100 d-flex flex-column justify-content-center align-items-center border mt-5 background-grey-plus shadow-lg"},n.a.createElement("h3",{className:"text-high-tower mt-1"},"Create New Feedback Category for"," ","0"===t?"Default Category":"Grade "+t),n.a.createElement("form",{className:"form-inline w-100 d-flex flex-row justify-content-around",onSubmit:N},n.a.createElement("div",{className:"input-group mb-2 mr-sm-2 w-50 d-flex justify-content-center flex-nowrap"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("div",{className:"input-group-text"},"Description")),n.a.createElement("input",{type:"text",className:"form-control w-75 "+l.descProp,id:"inlineFormInputGroupDescription",placeholder:l.descMsg,onChange:function(e){return p(e.target.value)},value:u})),n.a.createElement("div",{className:"input-group mb-2 mr-sm-2 w-47 d-flex justify-content-center flex-nowrap"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("div",{className:"input-group-text"},"Order")),n.a.createElement("input",{type:"text",className:"form-control w-75 "+l.orderProp,id:"inlineFormInputGroupOrder",placeholder:l.orderMsg,onChange:function(e){return h(e.target.value)},value:f})),n.a.createElement("button",{type:"submit",className:"btn btn-outline-primary mb-2"},"Add Category")),0!==E.code?n.a.createElement("div",{className:1===E.code?"alert w-75 alert-success pt-0":"alert w-75 alert-danger",role:"alert",onClick:function(){return v({code:0,msg:""})}},n.a.createElement("h4",{className:"alert-heading"},1===E.code?"Success !!":"!! Error !!"),n.a.createElement("p",null,E.msg),n.a.createElement("button",{type:"button",className:1===E.code?"btn btn-sm btn-success":"btn btn-sm btn-danger",onClick:function(){return v({code:0,msg:""}),p(""),h(""),void(1==E.code&&a(!0,s))}},"OK")):n.a.createElement(n.a.Fragment,null))},Pe=function(){var e=Object(r.useState)([]),t=Object(P.a)(e,2),a=t[0],s=t[1],c=Object(r.useState)({id:"",grade:""}),o=Object(P.a)(c,2),l=o[0],i=o[1],d=Object(r.useState)([]),m=Object(P.a)(d,2),u=m[0],p=m[1],g=Object(r.useState)({default:"",catName:"",grade:"",feedback:"",showFeedback:!1}),b=Object(P.a)(g,2),f=b[0],h=b[1],x=Object(r.useState)([]),w=Object(P.a)(x,2),E=w[0],v=w[1],N=function(e,t){i({id:e,grade:t}),A(t),h({default:"",grade:"",catName:"",feedback:"",showFeedback:!1}),v([])},j=function(){var e=Object(k.a)(y.a.mark((function e(t,a){var r,n,s;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=[],!t){e.next=5;break}return e.next=4,A(l.grade);case 4:r=e.sent;case 5:n=""==f.default?f.grade:f.default,s=0;case 7:if(!(s<r.length)){e.next=15;break}if(r[s].id!=n){e.next=12;break}return v(r[s].feedbacks),h(Object(X.a)({},f),{showFeedback:!0}),e.abrupt("break",15);case 12:s++,e.next=7;break;case 15:document.getElementById(a).click();case 16:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),O=function(e,t,a,r,n){h({default:e,grade:t,catName:r,feedback:a,showFeedback:!0}),v(n)},C=function(e,t){var a="";return e===f.default&&(a="active"),!1===t&&(a+=" background-grey text-lightgrey2"),a},T=function(e,t){var a="";return e===f.grade&&(a="active"),!1===t&&(a+=" background-grey text-lightgrey2"),a},F=function(e,t){var a="";return e===f.feedback&&(a="active"),!1===t&&(a+=" background-grey text-lightgrey2"),a},A=function(){var e=Object(k.a)(y.a.mark((function e(t){var a,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(sessionStorage.getItem("proxy")+"/tsh/feedback/category/"+t+"/false",{method:"GET",headers:{Authorization:"Bearer "+sessionStorage.getItem("jwt"),"Content-Type":"application/json"}});case 2:return a=e.sent,e.next=5,a.json();case 5:return r=e.sent,p(r),e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(k.a)(y.a.mark((function e(){var t,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(sessionStorage.getItem("proxy")+"/tshServices/getAllGrades",{method:"GET",headers:{Authorization:"Bearer "+sessionStorage.getItem("jwt"),"Content-Type":"application/json"}});case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,i({id:a[0].id,grade:a[0].grade}),A(a[0].grade),s(a);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(k.a)(y.a.mark((function e(t,a){var r,n,s,c,o;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r={id:t},!window.confirm("Are you sure you want to change the status of this feedback Item?")){e.next=21;break}return n="",n="cat"===a?"/tsh/feedback/toggleFeedbackCategoryState":"/tsh/feedback/toggleFeedbackState",e.next=6,fetch(sessionStorage.getItem("proxy")+n,{method:"POST",headers:{Authorization:"Bearer "+sessionStorage.getItem("jwt"),"Content-Type":"application/json"},body:JSON.stringify(r)});case 6:if(202!==e.sent.status){e.next=21;break}return e.next=10,A(l.grade);case 10:s=e.sent,c=""==f.default?f.grade:f.default,o=0;case 13:if(!(o<s.length)){e.next=21;break}if(s[o].id!=c){e.next=18;break}return v(s[o].feedbacks),h(Object(X.a)({},f),{showFeedback:!0}),e.abrupt("break",21);case 18:o++,e.next=13;break;case 21:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){D()}),[]),n.a.createElement(S.a,{className:"w-100"},n.a.createElement("div",{className:"w-100 border-grey d-flex flex-column justify-content-center align-content-center text-dark"},n.a.createElement(Se,{heading:"Manage Feedback Categories",showFilters:"false"}),n.a.createElement("div",{className:"d-flex flex-row w-100 pt-1"},n.a.createElement("div",{className:"w-20 "},n.a.createElement("p",{className:"w-100 text-white text-uppercase text-13 font-weight-bold text-high-tower text-center letter-s1p5 background-grad darkblue border p-0 m-0 rounded-sm"},"Grades"),a.length>0?a.map((function(e,t,a){return n.a.createElement(Ae,{iAmActive:l.id,listKey:e.id,grade:e.grade,item:"Grade "+e.grade,description:"Year "+e.grade,callBack:N})})):n.a.createElement(n.a.Fragment,null)),n.a.createElement("div",{className:"w-100 left-border-grey"},u.length>0?0===u[0].grade?n.a.createElement("section",{className:"d-flex flex-column text-center content-center w-100 align-items-center justify-content-center mt-2"},n.a.createElement("h3",{className:"text-high-tower"},"Default Feedback Category"),n.a.createElement("div",{id:"header",className:"w-75 m-0 p-0 d-flex flex-row justify-content-center background-grad darkblue text-center text-georgia text-white large-text border"},n.a.createElement("span",{className:"w-10 right-border-white1px"},"Id"),n.a.createElement("span",{className:"w-70 right-border-white1px"},"Category Description"),n.a.createElement("div",{className:"w-20 d-flex flex-row justify-content-center"},"Active Status")),u.map((function(e){return n.a.createElement("div",{id:e.id,className:"w-75 m-0 p-0 d-flex flex-row justify-content-center text-center text-Palatino large-text left-border-grey bottom-border-grey right-border-grey1px myGrid "+C(e.id,e.active),tabIndex:"1",onClick:function(){return O(e.id,f.grade,f.feedback,e.description,e.feedbacks)}},n.a.createElement("span",{className:"w-10 right-border-grey1px"},e.id),n.a.createElement("span",{className:"w-70 right-border-grey1px"},e.description),n.a.createElement("div",{className:"w-20 d-flex flex-row justify-content-center"},n.a.createElement("button",{type:"button",className:e.active?"btn btn-outline-success btn-sm rounded":"btn btn-outline-danger btn-sm rounded",onClick:function(){return I(e.id,"cat")}},e.active?"Deactivate":"Activate")))})),n.a.createElement(S.a.Toggle,{as:"button",type:"button",className:"mt-2 mb-1 btn btn-sm btn-outline-primary",variant:"link",eventKey:"1",id:"Default"},"Add Default Category"),n.a.createElement(S.a.Collapse,{eventKey:"1",className:"p-0 m-0 w-75"},n.a.createElement(Ie,{grade:"0",refresh:j,source:"Default"})),n.a.createElement("h3",{className:"text-high-tower mt-3"},"Grade ",l.grade," Feedback Category"),n.a.createElement("div",{id:"header",className:"w-75 m-0 p-0 d-flex flex-row justify-content-center background-grad darkblue text-center text-georgia text-white large-text border"},n.a.createElement("span",{className:"w-10 right-border-white1px"},"Id"),n.a.createElement("span",{className:"w-70 right-border-white1px"},"Category Description"),n.a.createElement("div",{className:"w-20 d-flex flex-row justify-content-center"},"Active Status")),n.a.createElement("div",{id:"0",className:"w-75 m-0 p-0 d-flex flex-row justify-content-center text-center text-Palatino large-text left-border-grey bottom-border-grey right-border-grey1px myGrid"},n.a.createElement("span",{className:"w-100 right-border-grey1px"},"No Feedback Category defined for this grade")),n.a.createElement(S.a.Toggle,{as:"button",type:"button",className:"mt-2 mb-1 btn btn-sm btn-outline-primary",variant:"link",eventKey:"2",id:"Grade1"},"Add Category for Grade ",l.grade),n.a.createElement(S.a.Collapse,{eventKey:"2",className:"p-0 m-0 w-75"},n.a.createElement(Ie,{grade:l.grade,refresh:j,source:"Grade1"}))):n.a.createElement("section",{className:"d-flex flex-column text-center content-center w-100 align-items-center justify-content-center mt-2"},n.a.createElement("h3",{className:"text-high-tower mt-3"},"Grade ",l.grade," Feedback Category"),n.a.createElement("div",{id:"header",className:"w-75 m-0 p-0 d-flex flex-row justify-content-center background-grad darkblue text-center text-georgia text-white large-text border"},n.a.createElement("span",{className:"w-10 right-border-white1px"},"Id"),n.a.createElement("span",{className:"w-70 right-border-white1px"},"Category Description"),n.a.createElement("div",{className:"w-20 d-flex flex-row justify-content-center"},"Active Status")),u.map((function(e){return n.a.createElement("div",{id:e.id,className:"w-75 m-0 p-0 d-flex flex-row justify-content-center text-center text-Palatino large-text left-border-grey bottom-border-grey right-border-grey1px myGrid "+T(e.id,e.active),tabIndex:"1",onClick:function(){return O(f.default,e.id,f.feedback,e.description,e.feedbacks)}},n.a.createElement("span",{className:"w-10 right-border-grey1px"},e.id),n.a.createElement("span",{className:"w-70 right-border-grey1px"},e.description),n.a.createElement("div",{className:"w-20 d-flex flex-row justify-content-center"},n.a.createElement("button",{type:"button",className:e.active?"btn btn-outline-success btn-sm rounded":"btn btn-outline-danger btn-sm rounded",onClick:function(){return I(e.id,"cat")}},e.active?"Deactivate":"Activate")))})),n.a.createElement(S.a.Toggle,{as:"button",type:"button",className:"mt-2 mb-1 btn btn-sm btn-outline-primary",variant:"link",eventKey:"4",id:"Grade2"},"Add Category for Grade ",l.grade),n.a.createElement(S.a.Collapse,{eventKey:"4",className:"p-0 m-0 w-75"},n.a.createElement(Ie,{grade:l.grade,refresh:j,source:"Grade2"}))):n.a.createElement(n.a.Fragment,null),1==f.showFeedback?n.a.createElement("section",{className:"d-flex flex-column text-center content-center w-100 align-items-center justify-content-center mt-2"},n.a.createElement("h3",{className:"text-high-tower mt-3"},""==f.default?"Feedback Items for Grade "+l.grade+" - "+f.catName+" Category":"Feedback Items for Default - "+f.catName+" Category"),n.a.createElement("div",{id:"header",className:"w-75 m-0 p-0 d-flex flex-row justify-content-center background-grad darkblue text-center text-georgia text-white large-text border"},n.a.createElement("span",{className:"w-10 right-border-white1px"},"Id"),n.a.createElement("span",{className:"w-50p right-border-white1px"},"Description"),n.a.createElement("span",{className:"w-20 right-border-white1px"},"Short Description"),n.a.createElement("div",{className:"w-20 d-flex flex-row justify-content-center"},"Active Status")),E.length>0?E.map((function(e){return n.a.createElement("div",{id:e.id,className:"w-75 m-0 p-0 d-flex flex-row justify-content-center text-center text-Palatino large-text left-border-grey bottom-border-grey right-border-grey1px myGrid "+F(e.id,e.active),tabIndex:"1",onClick:function(){return O(f.default,f.grade,e.id,f.catName,E)}},n.a.createElement("span",{className:"w-10 right-border-grey1px"},e.id),n.a.createElement("span",{className:"w-50 right-border-grey1px"},e.description),n.a.createElement("span",{className:"w-20 right-border-grey1px"},e.shortDescription),n.a.createElement("div",{className:"w-20 d-flex flex-row justify-content-center"},n.a.createElement("button",{type:"button",className:e.active?"btn btn-outline-success btn-sm rounded":"btn btn-outline-danger btn-sm rounded",onClick:function(){return I(e.id,"item")}},e.active?"Deactivate":"Activate")))})):n.a.createElement("div",{id:"0",className:"w-75 m-0 p-0 d-flex flex-row justify-content-center text-center text-Palatino large-text left-border-grey bottom-border-grey right-border-grey1px myGrid ",tabIndex:"1"},n.a.createElement("span",{className:"w-100 right-border-grey1px"},"No Feedback Item found for category "+f.catName)),n.a.createElement(S.a.Toggle,{as:"button",type:"button",className:"mt-2 mb-1 btn btn-sm btn-outline-primary align-self-center",variant:"link",eventKey:"3",id:"addfeedback"},"Add Item for Grade"," ",l.grade+" "+f.catName),n.a.createElement(S.a.Collapse,{eventKey:"3",className:"p-0 m-0 w-75"},n.a.createElement(De,{selection:f,grade:l.grade,refresh:j,source:"addfeedback"}))):n.a.createElement(n.a.Fragment,null),n.a.createElement("div",null)))))},Me=function(e){var t=e.logout,a=Object(r.useState)(""),s=Object(P.a)(a,2),c=s[0],o=s[1],l=Object(r.useState)(""),i=Object(P.a)(l,2),d=i[0],m=i[1],u=Object(r.useState)({flag:"",heading:"",message:""}),p=Object(P.a)(u,2),g=p[0],b=p[1],f=function(){var e=Object(k.a)(y.a.mark((function e(){var t,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={request:d},e.next=3,fetch(sessionStorage.getItem("proxy")+"/tsh/Signup/changePass",{method:"POST",headers:{Authorization:"Bearer "+sessionStorage.getItem("jwt"),"Content-Type":"application/json"},body:JSON.stringify(t)});case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(k.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==d){e.next=3;break}return b({flag:"danger",heading:"Error",message:"Please enter a password."}),e.abrupt("return");case 3:if(""!==c){e.next=6;break}return b({flag:"danger",heading:"Error",message:"Please retype your new password."}),e.abrupt("return");case 6:if(d===c){e.next=9;break}return b({flag:"danger",heading:"Error",message:"Both the password should match"}),e.abrupt("return");case 9:if(!(d.length<8)){e.next=12;break}return b({flag:"danger",heading:"Error",message:"Password should be atleast 8 characters long"}),e.abrupt("return");case 12:if(x(d)){e.next=15;break}return b({flag:"danger",heading:"Error",message:"Password should contain atleast one number"}),e.abrupt("return");case 15:if(w(d)){e.next=18;break}return b({flag:"danger",heading:"Error",message:"Password should contain atleast one Letter"}),e.abrupt("return");case 18:return e.next=20,f();case 20:202==e.sent.status?b({flag:"success",heading:"Success",message:"Password changed successfully. You will be directed to login page again to login with the new password."}):b({flag:"danger",heading:"Error",message:"Internal Server error. Password could not be changed."});case 22:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(e){return/\d/.test(e)},w=function(e){return/[a-zA-Z]/.test(e)};return n.a.createElement("div",{className:"w-100 border-grey d-flex flex-column justify-content-center align-content-center"},n.a.createElement("p",{className:"text-high-tower font-style-bold text-lightgrey3 text-32 mt-3 mb-0 p-0 align-self-center"},"Change Password"),""!==g.flag?n.a.createElement("div",{className:"w-100 d-flex flex-column align-items-center alert alert-"+g.flag,role:"alert",onClick:function(){b({flag:"",heading:"",message:""})}},n.a.createElement("h4",{className:"alert-heading"},g.heading,"!"),g.message,"success"==g.flag?n.a.createElement("button",{type:"button",className:"btn btn-outline-secondary",onClick:function(){return t()}},"ok"):n.a.createElement(n.a.Fragment,null)):n.a.createElement(n.a.Fragment,null),n.a.createElement("section",{className:"d-flex flex-row justify-content-center w-100 mt-5 text-dark"},n.a.createElement("form",{className:"form-inline",onSubmit:h},n.a.createElement("div",{className:"input-group mb-2 mr-sm-2"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("div",{className:"input-group-text"},"New Password")),n.a.createElement("input",{type:"password",className:"form-control",id:"inlineFormInputGroupUsername2",placeholder:"New Password",onChange:function(e){return m(e.target.value)}})),n.a.createElement("div",{className:"input-group mb-2 mr-sm-2"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("div",{className:"input-group-text"},"Retype Password")),n.a.createElement("input",{type:"password",className:"form-control",id:"inlineFormInputGroupUsername2",placeholder:"Retype Password",onChange:function(e){return o(e.target.value)}})),n.a.createElement("button",{type:"submit",className:"btn btn-primary mb-2"},"Submit"))),n.a.createElement("div",{className:"mt-3 d-flex flex-column justify-content-center align-items-center text-darkgrey border align-self-center pl-5 pr-5 background-grey"},n.a.createElement("h6",{className:"ml-3 mr-5 font-weight-bold"},"Password should contain the following"),n.a.createElement("ul",{className:"ml-5 mr-5 text-13"},n.a.createElement("li",null,"Should be atleast 8 characters long"),n.a.createElement("li",null,"Should contain atleast 1 alpha numeric character"),n.a.createElement("li",null,"Should contain atleast 1 number"),n.a.createElement("li",null,"Should not contain any spaces or any special characters."))))},Be=(a(300),function(){var e=Object(r.useState)({importItems:[],stats:[],descriptions:[],teachers:[],weekdays:[],subjects:[],grades:[],importDate:"",totalItems:0}),t=Object(P.a)(e,2),a=t[0],s=t[1],c=Object(r.useState)({id:0,name:"",grade:"",subject:"",weekday:"",start:"",teacher:""}),o=Object(P.a)(c,2),l=o[0],i=o[1],d=Object(r.useState)({status:"",description:"",teacher:"",weekday:"",subject:"",grade:""}),m=Object(P.a)(d,2),u=m[0],p=m[1];Object(r.useEffect)((function(){f()}),[]),Object(r.useEffect)((function(){return document.addEventListener("keydown",g,!1),function(){document.removeEventListener("keydown",g,!1)}}),[]);var g=function(e){27==e.keyCode&&i({id:0,name:"",grade:"",subject:"",weekday:"",start:"",teacher:""})},b=function(){var e=Object(k.a)(y.a.mark((function e(t){var a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a={},0==l.id?a={id:t.id,name:t.name,grade:t.grade,subject:t.subject,weekday:t.batchDate,start:t.batchStartTime+":00",teacher:t.teacher}:(a=Object(X.a)({},l)).start=a.start+":00",!window.confirm("Do you want to Re-import this item -Item id: "+a.id+" \nName : "+a.name+" \nSubject :"+a.subject+"\n Grade :"+a.grade+"\n Start Time :"+a.start+"\n Batch Date :"+a.weekday+"\n Teacher : "+a.teacher)){e.next=8;break}return e.next=5,fetch(sessionStorage.getItem("proxy")+"/tsh/import/reImport",{method:"POST",headers:{Authorization:"Bearer "+sessionStorage.getItem("jwt"),"Content-Type":"application/json"},body:JSON.stringify(a)});case 5:e.sent,s({importItems:[],stats:[],descriptions:[],teachers:[],weekdays:[],subjects:[],grades:[],importDate:"",totalItems:0}),f();case 8:i({id:0,name:"",grade:"",subject:"",weekday:"",start:"",teacher:""});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(k.a)(y.a.mark((function e(){var t,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(sessionStorage.getItem("proxy")+"/tsh/import/getImportedItemList/0",{method:"GET",headers:{Authorization:"Bearer "+sessionStorage.getItem("jwt"),"Content-Type":"application/json"}});case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,s(a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return n.a.createElement("div",{className:"w-100 border-grey d-flex flex-column justify-content-center align-items-center align-content-center"},n.a.createElement("div",{className:"d-flex flex-row justify-content-start text-dark w-100 h-50 pt-1 pb-1 mt-0 mb-1"},n.a.createElement("div",{className:"h-100 w-15 ml-1 mr-2 d-flex flex-column border-greyplus1 rounded shadow"},n.a.createElement("p",{className:"pb-0 mt-0 mb-0 text-center text-high-tower medium-plus-text font-weight-bold background-grad darkblue text-white"},"Import Date"),n.a.createElement("p",{className:"pb-1 pt-1 mt-0 mb-0 text-13 text-helvetica text-center"},""!==a.importDate?a.importDate:"--")),n.a.createElement("div",{className:"h-100 w-15 ml-1 mr-2 d-flex flex-column border-greyplus1 rounded shadow"},n.a.createElement("p",{className:"pb-0 mt-0 mb-0 text-center text-high-tower medium-plus-text font-weight-bold background-grad darkblue text-white"},"Total Items"),n.a.createElement("p",{className:"pb-1 pt-1 mt-0 mb-0 text-13 text-helvetica text-center"},a.totalItems>0?a.totalItems:0)),n.a.createElement("div",{className:"h-100 w-15 ml-1 mr-2 d-flex flex-column border-greyplus1 rounded shadow"},n.a.createElement("p",{className:"pb-0 mt-0 mb-0 text-center text-high-tower medium-plus-text font-weight-bold background-grad darkblue text-white"},"Pass/Fail/Skip"),n.a.createElement("p",{className:"pb-1 pt-1 mt-0 mb-0 text-13 text-helvetica text-center"},n.a.createElement("span",{className:"text-success font-weight-bold"},a.pass+"/ "),n.a.createElement("span",{className:"text-danger font-weight-bold"},a.fail+"/ "),n.a.createElement("span",{className:"text-secondary font-weight-bold"},a.skip))),a.stats.length>0?a.stats.map((function(e){return 4!==e.status?n.a.createElement("div",{className:"h-100 w-15 ml-1 mr-2 d-flex flex-column border-greyplus1 rounded shadow"},n.a.createElement("p",{className:"pb-0 mt-0 mb-0 text-center text-high-tower medium-plus-text font-weight-bold background-grad darkblue text-white"},e.importDesc),n.a.createElement("p",{className:"pb-1 pt-1 mt-0 mb-0 text-13 text-helvetica text-center"},e.count)):n.a.createElement(n.a.Fragment,null)})):n.a.createElement(n.a.Fragment,null)),a.importItems.length>0?n.a.createElement("div",{className:"d-flex flex-column w-100 justify-content-center mt-1 pb-5"},n.a.createElement("div",{className:"w-100 d-flex flex-row justify-content-start stick-on-top"},n.a.createElement("div",{className:"d-flex flex-row w-93 justify-content-center text-dark pr-1 pl-1"},n.a.createElement("p",{className:"text-high-tower mb-0 text-white text-12 text-center background-dark-blue w-2p5 ml-4 pt-1 pb-1 right-border-white1px"},"S.N"),n.a.createElement("p",{className:"text-high-tower mb-0 text-white text-12 text-center background-dark-blue w-15 pt-1 pb-1 right-border-white1px"},"NAME"),n.a.createElement("select",{className:"text-high-tower mb-0 text-white text-12 text-uppercase background-dark-blue w-5 pt-1 pb-1 right-border-white1px",onChange:function(e){return p(Object(X.a)(Object(X.a)({},u),{},{grade:e.target.value}))}},""==FileReader.grade?n.a.createElement("option",{className:"text-12 bg-white text-dark border",selected:!0},"GRADE"):n.a.createElement("option",{className:"text-12 bg-white text-dark border"},"GRADE"),a.grades.length>0?a.grades.map((function(e){return n.a.createElement("option",{className:"text-12 bg-white text-dark border"},e)})):n.a.createElement(n.a.Fragment,null)),n.a.createElement("select",{className:"text-high-tower mb-0 text-white text-12 text-uppercase background-dark-blue w-10 pt-1 pb-1 right-border-white1px",onChange:function(e){return p(Object(X.a)(Object(X.a)({},u),{},{subject:e.target.value}))}},""==FileReader.subject?n.a.createElement("option",{className:"text-12 bg-white text-dark border",selected:!0},"SUBJECT"):n.a.createElement("option",{className:"text-12 bg-white text-dark border"},"SUBJECT"),a.subjects.length>0?a.subjects.map((function(e){return n.a.createElement("option",{className:"text-12 bg-white text-dark border"},e)})):n.a.createElement(n.a.Fragment,null)),n.a.createElement("select",{className:"text-high-tower mb-0 text-white text-12 text-uppercase background-dark-blue w-10 pt-1 pb-1 right-border-white1px",onChange:function(e){return p(Object(X.a)(Object(X.a)({},u),{},{weekday:e.target.value}))}},""==u.weekday?n.a.createElement("option",{className:"text-12 bg-white text-dark border",selected:!0},"WEEKDAY"):n.a.createElement("option",{className:"text-12 bg-white text-dark border"},"WEEKDAY"),a.weekdays.length>0?a.weekdays.map((function(e){return n.a.createElement("option",{className:"text-12 bg-white text-dark border"},e)})):n.a.createElement(n.a.Fragment,null)),n.a.createElement("p",{className:"text-high-tower mb-0 text-white text-12 text-center background-dark-blue w-8 pt-1 pb-1 right-border-white1px"},"START"),n.a.createElement("select",{className:"text-high-tower mb-0 text-white text-12 text-uppercase background-dark-blue w-8 pt-1 pb-1 right-border-white1px",onChange:function(e){return p(Object(X.a)(Object(X.a)({},u),{},{teacher:e.target.value}))}},""==u.teacher?n.a.createElement("option",{className:"text-12 bg-white text-dark border",selected:!0},"TEACHER"):n.a.createElement("option",{className:"text-12 bg-white text-dark border"},"TEACHER"),a.teachers.length>0?a.teachers.map((function(e){return n.a.createElement("option",{className:"text-12 bg-white text-dark border"},e)})):n.a.createElement(n.a.Fragment,null)),n.a.createElement("p",{className:"text-high-tower mb-0 text-white text-12 text-center background-dark-blue w-10 pt-1 pb-1 right-border-white1px"},"IMPORT DATE"),n.a.createElement("p",{className:"text-high-tower mb-0 text-white text-12 text-center background-dark-blue w-5 pt-1 pb-1 right-border-white1px"},"CYCLE"),n.a.createElement("select",{className:"text-high-tower mb-0 text-white text-12 text-uppercase background-dark-blue w-20 pt-1 pb-1 right-border-white1px",onChange:function(e){return p(Object(X.a)(Object(X.a)({},u),{},{description:e.target.value}))}},""==u.description?n.a.createElement("option",{className:"text-12 bg-white text-dark border",selected:!0},"DESCRIPTION"):n.a.createElement("option",{className:"text-12 bg-white text-dark border"},"DESCRIPTION"),a.descriptions.length>0?a.descriptions.map((function(e){return n.a.createElement("option",{className:"text-12 bg-white text-dark border"},e)})):n.a.createElement(n.a.Fragment,null)),n.a.createElement("select",{className:"text-high-tower mb-0 text-white text-12 text-uppercase background-dark-blue w-8 pt-1 pb-1 right-border-white1px",onChange:function(e){return p(Object(X.a)(Object(X.a)({},u),{},{status:e.target.value}))}},""==u.status?n.a.createElement("option",{className:"text-12 bg-white text-dark border",selected:!0},"STATUS"):n.a.createElement("option",{className:"text-12 bg-white text-dark border"},"STATUS"),n.a.createElement("option",{className:"text-12 bg-white text-dark border"},"Success"),n.a.createElement("option",{className:"text-12 bg-white text-dark border"},"Failed"),n.a.createElement("option",{className:"text-12 bg-white text-dark border"},"Skipped"))),n.a.createElement("button",{type:"button",className:"btn btn-sm btn-outline-info ml-4",onClick:function(){p({status:"",description:"",teacher:"",weekday:"",subject:"",grade:""})}},"Clear")),a.importItems.map((function(e,t){return function(e){var t=!1,a=!1,r=!1,n=!1,s=!1,c=!1;return""!=u.status&&"STATUS"!=u.status&&e.status!=u.status&&(t=!0),""!=u.teacher&&"TEACHER"!=u.teacher&&e.teacher!=u.teacher&&(r=!0),""!=u.description&&"DESCRIPTION"!=u.description&&e.message!=u.description&&(a=!0),""!=u.weekday&&"WEEKDAY"!=u.weekday&&e.weekday!=u.weekday&&(n=!0),""!=u.subject&&"SUBJECT"!=u.subject&&e.subject!=u.subject&&(c=!0),""!=u.grade&&"GRADE"!=u.grade&&e.grade!=u.grade&&(s=!0),!!(t||a||r||n||s||c)}(e)?n.a.createElement(n.a.Fragment,null):n.a.createElement("div",{className:"w-100 d-flex flex-row justify-content-start"},n.a.createElement("div",{className:"d-flex flex-row text-verdena text-darkgrey w-93 justify-content-center pr-1 pl-1 pb-0 "},n.a.createElement("p",{className:"text-12 text-center mb-0 w-2p5 pt-1 pb-1 ml-4 border-grey-light"},t+1),l.id!=e.id?n.a.createElement("p",{className:"text-12 mb-0 w-15 pt-1 pb-1 pl-2 border-grey-light-right-bottom"},e.name):n.a.createElement("input",{type:"text",defaultValue:e.name,className:"w-15 rounded-5 background-grey-plus",onChange:function(e){return i(Object(X.a)(Object(X.a)({},l),{},{name:e.target.value}))}}),l.id!=e.id?n.a.createElement("p",{className:"text-12 text-center mb-0 w-5 pt-1 pb-1 border-grey-light-right-bottom "},e.grade):n.a.createElement("input",{type:"text",defaultValue:e.grade,className:"w-5 rounded-5 background-grey-plus",onChange:function(e){return i(Object(X.a)(Object(X.a)({},l),{},{grade:e.target.value}))}}),l.id!=e.id?n.a.createElement("p",{className:"text-12 text-center mb-0 w-10 pt-1 pb-1 border-grey-light-right-bottom"},e.subject):n.a.createElement("input",{type:"text",defaultValue:e.subject,className:"w-10 rounded-5 background-grey-plus",onChange:function(e){return i(Object(X.a)(Object(X.a)({},l),{},{subject:e.target.value}))}}),l.id!=e.id?n.a.createElement("p",{className:"text-12 text-center mb-0 w-10 pt-1 pb-1 border-grey-light-right-bottom"},e.weekday):n.a.createElement("input",{type:"text",defaultValue:e.batchDate,className:"w-10 rounded-5 background-grey-plus",onChange:function(e){return i(Object(X.a)(Object(X.a)({},l),{},{weekday:e.target.value}))}}),l.id!=e.id?n.a.createElement("p",{className:"text-12 text-center mb-0 w-8 pt-1 pb-1 border-grey-light-right-bottom"},e.batchStartTime):n.a.createElement("input",{type:"text",defaultValue:e.batchStartTime,className:"w-8 rounded-5 background-grey-plus",onChange:function(e){return i(Object(X.a)(Object(X.a)({},l),{},{start:e.target.value}))}}),l.id!=e.id?n.a.createElement("p",{className:"text-12 mb-0 w-8 pt-1 pb-1 pl-2 border-grey-light-right-bottom"},e.teacher):n.a.createElement("input",{type:"text",defaultValue:e.teacher,className:"w-8 rounded-5 background-grey-plus",onChange:function(e){return i(Object(X.a)(Object(X.a)({},l),{},{teacher:e.target.value}))}}),n.a.createElement("p",{className:"text-12 text-center mb-0 w-10 pt-1 pb-1 border-grey-light-right-bottom"},e.importDate),n.a.createElement("p",{className:"text-12 text-center mb-0 w-5 pt-1 pb-1 border-grey-light-right-bottom "},e.cycle),n.a.createElement("p",{className:"text-12 mb-0 w-20 pt-1 pb-1 pl-2 border-grey-light-right-bottom"},e.message),n.a.createElement("p",{className:"Success"==e.status?"text-12 text-center mb-0 w-8 pt-1 pb-1 border-grey-light-right-bottom bg-success text-white":"Failed"==e.status?"text-12 text-center mb-0 w-8 pt-1 pb-1 border-grey-light-right-bottom bg-danger text-white":"text-12 text-center mb-0 w-8 pt-1 pb-1 border-grey-light-right-bottom bg-warning text-white"},e.status)),"Failed"==e.status?n.a.createElement("div",{className:"d-flex flex-row pl-2 ml-3"},l.id!=e.id?n.a.createElement("button",{type:"button",className:"btn btn-sm btn-outline-secondary mr-1",title:"Edit to correct data for this row item",onClick:function(){var t;i({id:(t=e).id,name:t.name,grade:t.grade,subject:t.subject,weekday:t.batchDate,start:t.batchStartTime,teacher:t.teacher})}},"Edit"):n.a.createElement("button",{type:"button",className:"btn btn-sm btn-outline-secondary mr-1",title:"Edit to correct data for this row item",onClick:function(){return i({id:0,name:"",grade:"",subject:"",weekday:"",start:"",teacher:""})}},"Cancel"),n.a.createElement("button",{type:"button",className:"btn btn-sm btn-outline-primary mr-1",title:"Import this item again",onClick:function(){return b(e)}},"Import")):n.a.createElement(n.a.Fragment,null))}))):n.a.createElement(J,null))}),Ge=function(e){Object(i.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this,e)).afterLogin=function(e,t,a){e&&(sessionStorage.setItem("welcomeKit",JSON.stringify(e)),sessionStorage.setItem("jwt",a),sessionStorage.setItem("isLoggedIn",!0),r.setState({isLoggedIn:!0}))},r.logout=function(){sessionStorage.removeItem("welcomeKit"),sessionStorage.removeItem("isLoggedIn"),sessionStorage.removeItem("jwt"),r.setState({isLoggedIn:!1})},r.isFisrtLogin=function(){return!!JSON.parse(sessionStorage.getItem("welcomeKit")).user.firstLogin},sessionStorage.setItem("proxy","https://austsh.com:8443"),r.state={isLoggedIn:!1,username:"",features:"",token:""},r}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=sessionStorage.getItem("isLoggedIn");return n.a.createElement(f.a,null,n.a.createElement("div",{className:"App-master-container"},n.a.createElement(x,{username:this.state.username,isLoggedIn:this.state.isLoggedIn,mainmenu:this.state.features,logout:this.logout}),n.a.createElement("div",{className:"App-bottom-container m-0 pt-0"},n.a.createElement(W.b,{exact:!0,path:"/schedule",render:function(){return t?e.isFisrtLogin()?n.a.createElement(Me,{logout:e.logout}):n.a.createElement(q,{features:e.state.features,token:e.state.token,feedbackHandle:e.feedback}):n.a.createElement(j,{afterLogin:e.afterLogin})}}),n.a.createElement(W.b,{exact:!0,path:"/login",render:function(){return"true"===e.state.isLoggedIn?n.a.createElement(W.a,{to:"/schedule"}):n.a.createElement(j,{afterLogin:e.afterLogin})}}),n.a.createElement(W.b,{exact:!0,path:"/",render:function(){return"true"===e.state.isLoggedIn?n.a.createElement(W.a,{to:"/schedule"}):n.a.createElement(j,{afterLogin:e.afterLogin})}}),n.a.createElement(W.b,{exact:!0,path:"/Logout",render:function(){return n.a.createElement(j,{afterLogin:e.afterLogin})}}),n.a.createElement(W.b,{exact:!0,path:"/FeedbackManagement/Feedback",render:function(){return n.a.createElement(Te,null)}}),n.a.createElement(W.b,{exact:!0,path:"/FeedbackManagement/Category",render:function(){return n.a.createElement(Pe,null)}}),n.a.createElement(W.b,{exact:!0,path:"/DisplayAllStudents",render:function(){return n.a.createElement(me,{token:e.state.token})}}),n.a.createElement(W.b,{exact:!0,path:"/Management",render:function(){return n.a.createElement(de,{success:"true"})}}),n.a.createElement(W.b,{exact:!0,path:"/Management/Outlook",render:function(){return n.a.createElement(ye,null)}}),n.a.createElement(W.b,{exact:!0,path:"/Management/Import/Result",render:function(){return n.a.createElement(Be,null)}}),n.a.createElement(W.b,{exact:!0,path:"/Management/Excel",render:function(){return n.a.createElement(pe,{success:"true"})}}),n.a.createElement(W.b,{exact:!0,path:"/Dashboard",render:function(){return n.a.createElement(ge,{success:"true"})}}),n.a.createElement(W.b,{exact:!0,path:"/Management/Planner",render:function(){return n.a.createElement(be,{success:"true"})}}),n.a.createElement(W.b,{exact:!0,path:"/TopicManagement",render:function(){return n.a.createElement(le,null)}}),n.a.createElement(W.b,{exact:!0,path:"/UserManagement",render:function(){return n.a.createElement(Fe,null)}}),n.a.createElement(p,null))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(sessionStorage.getItem("isLoggedIn")){try{var a=JSON.parse(sessionStorage.getItem("welcomeKit")),r=a.user.name}catch(n){return sessionStorage.removeItem("welcomeKit"),sessionStorage.removeItem("isLoggedIn"),sessionStorage.removeItem("jwt"),{isLoggedIn:!1,username:"",features:"",token:""}}return{isLoggedIn:sessionStorage.getItem("isLoggedIn"),username:r,features:a.features,token:sessionStorage.getItem("jwt")}}return{isLoggedIn:!1,username:"",features:"",token:""}}}]),a}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(Ge,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},93:function(e,t,a){}},[[143,1,2]]]);
//# sourceMappingURL=main.b78455dc.chunk.js.map